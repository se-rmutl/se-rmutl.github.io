<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ENGSE207 Task Board Term Project — Week 3–5 (Slide)</title>
<style>
  :root {
    --fontScale: 1;
    --bg: #070A12;
    --bg2: radial-gradient(1200px 700px at 15% 10%, rgba(99,102,241,.22), transparent 55%),
           radial-gradient(900px 600px at 85% 15%, rgba(16,185,129,.18), transparent 55%),
           radial-gradient(900px 700px at 40% 90%, rgba(244,63,94,.16), transparent 55%),
           #070A12;
    --slide: rgba(255,255,255,.06);
    --slide2: rgba(255,255,255,.04);
    --stroke: rgba(255,255,255,.14);
    --text: #EAF0FF;
    --muted: rgba(234,240,255,.78);
    --muted2: rgba(234,240,255,.62);
    --accent: #A78BFA;
    --accent2: #22C55E;
    --warn: #F59E0B;
    --bad: #FB7185;
    --good: #34D399;
    --shadow: 0 18px 60px rgba(0,0,0,.55);
    --radius: 22px;
  }
  [data-theme="light"] {
    --bg: #F6F7FB;
    --bg2: radial-gradient(1200px 700px at 20% 10%, rgba(99,102,241,.14), transparent 55%),
           radial-gradient(900px 600px at 85% 15%, rgba(16,185,129,.10), transparent 55%),
           radial-gradient(900px 700px at 45% 90%, rgba(244,63,94,.10), transparent 55%),
           #F6F7FB;
    --slide: rgba(255,255,255,.74);
    --slide2: rgba(255,255,255,.62);
    --stroke: rgba(2,6,23,.12);
    --text: #0B1220;
    --muted: rgba(11,18,32,.78);
    --muted2: rgba(11,18,32,.62);
    --shadow: 0 18px 60px rgba(2,6,23,.18);
  }
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai", "Noto Sans", Arial, sans-serif;
    background: var(--bg2);
    color: var(--text);
    overflow: hidden;
  }
  .deck {
    height: 100vh;
    display: grid;
    grid-template-rows: auto 1fr auto;
  }
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 18px;
    gap: 12px;
  }
  .brand {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 12px;
    border: 1px solid var(--stroke);
    background: linear-gradient(180deg, var(--slide), var(--slide2));
    box-shadow: var(--shadow);
    border-radius: 999px;
  }
  .dot {
    width: 10px; height: 10px; border-radius: 999px;
    background: var(--accent);
    box-shadow: 0 0 0 6px rgba(167,139,250,.16);
  }
  .brand b { letter-spacing: .2px; }
  .brand span { color: var(--muted2); font-size: 12px; }
  .toolbar {
    display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
  }
  .btn {
    border: 1px solid var(--stroke);
    background: linear-gradient(180deg, var(--slide), var(--slide2));
    color: var(--text);
    padding: 10px 12px;
    border-radius: 14px;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0,0,0,.18);
    font-weight: 650;
    font-size: 13px;
    user-select: none;
  }
  .btn:hover { transform: translateY(-1px); }
  .btn:active { transform: translateY(0px); }
  .btn.small { padding: 9px 10px; }
  .btn.ghost { background: transparent; box-shadow: none; }
  .counter {
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid var(--stroke);
    color: var(--muted);
    font-size: 13px;
    background: rgba(0,0,0,.0);
  }
  .stage {
    position: relative;
    padding: 18px;
    display: grid;
    place-items: center;
  }
  .slide {
    width: min(1320px, calc(100vw - 36px));
    aspect-ratio: 16 / 9;
    border-radius: var(--radius);
    border: 1px solid var(--stroke);
    background: linear-gradient(180deg, var(--slide), var(--slide2));
    box-shadow: var(--shadow);
    overflow: hidden;
    position: relative;
    transform: translateZ(0);
  }
  .slide-inner {
    height: 100%;
    padding: 46px 54px;
    display: grid;
    grid-template-rows: auto auto 1fr;
    gap: 14px;
    font-size: calc(18px * var(--fontScale));
    line-height: 1.3;
  }
  .title {
    font-size: calc(44px * var(--fontScale));
    font-weight: 900;
    letter-spacing: -0.6px;
  }
  .subtitle {
    font-size: calc(20px * var(--fontScale));
    color: var(--muted);
    max-width: 90%;
  }
  .content {
    align-self: start;
    font-size: calc(18px * var(--fontScale));
  }
  .muted { color: var(--muted); }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  .pill {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid var(--stroke);
    background: rgba(0,0,0,.0);
    color: var(--muted);
    font-weight: 700;
    font-size: calc(12px * var(--fontScale));
    width: fit-content;
  }
  .hero {
    display: grid;
    grid-template-columns: 1.25fr 1fr;
    gap: 18px;
    align-items: center;
    height: 100%;
  }
  .hero-left .big {
    margin: 10px 0 10px;
    font-size: calc(38px * var(--fontScale));
    font-weight: 900;
    letter-spacing: -0.6px;
  }
  .kpis { display: flex; gap: 12px; margin-top: 14px; flex-wrap: wrap; }
  .kpi {
    padding: 12px 14px;
    border-radius: 18px;
    border: 1px solid var(--stroke);
    background: rgba(0,0,0,.0);
    min-width: 140px;
  }
  .kpi-num { font-size: calc(28px * var(--fontScale)); font-weight: 900; }
  .kpi-label { color: var(--muted); font-size: calc(13px * var(--fontScale)); font-weight: 750; }
  .svg { width: 100%; height: auto; color: var(--text); }
  .two {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
  }
  .panel {
    border: 1px solid var(--stroke);
    background: rgba(0,0,0,.0);
    border-radius: 18px;
    padding: 14px 14px;
    overflow: hidden;
  }
  .panel h3 { margin: 0 0 10px; font-size: calc(20px * var(--fontScale)); }
  .cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
  }
  .card {
    border: 1px solid var(--stroke);
    border-radius: 18px;
    padding: 14px;
    background: rgba(0,0,0,.0);
  }
  .card-title { font-weight: 900; font-size: calc(18px * var(--fontScale)); margin-bottom: 8px; }
  .card-body { color: var(--muted); font-size: calc(16px * var(--fontScale)); }
  .bullets { margin: 0; padding-left: 18px; color: var(--muted); }
  .bullets li { margin: 6px 0; }
  .steps { margin: 0; padding-left: 20px; color: var(--muted); }
  .steps li { margin: 9px 0; }
  .hint {
    margin-top: 12px;
    padding: 12px 14px;
    border-radius: 16px;
    border: 1px dashed var(--stroke);
    color: var(--muted);
  }
  .callout {
    margin-top: 12px;
    padding: 12px 14px;
    border-radius: 16px;
    border: 1px solid var(--stroke);
    background: rgba(167,139,250,.10);
    color: var(--muted);
  }
  .callout.warn { background: rgba(245,158,11,.12); }
  .callout.good { background: rgba(52,211,153,.12); }
  .codebox {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: calc(14px * var(--fontScale));
    line-height: 1.4;
    padding: 12px 12px;
    border-radius: 16px;
    border: 1px solid var(--stroke);
    background: rgba(0,0,0,.12);
    overflow: auto;
    color: var(--text);
  }
  [data-theme="light"] .codebox { background: rgba(2,6,23,.06); }
  .table {
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid var(--stroke);
  }
  .row {
    display: grid;
    grid-template-columns: 1fr 1.2fr 2fr;
    gap: 0;
  }
  .row > div {
    padding: 12px 14px;
    border-bottom: 1px solid var(--stroke);
    font-size: calc(16px * var(--fontScale));
    color: var(--muted);
  }
  .row.head > div {
    font-weight: 900;
    color: var(--text);
    background: rgba(0,0,0,.10);
  }
  .row:last-child > div { border-bottom: none; }
  .checklist {
    display: grid;
    gap: 8px;
    color: var(--muted);
    font-size: calc(16px * var(--fontScale));
  }
  .checklist.cols3 { grid-template-columns: repeat(3, 1fr); }
  .checklist label {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 12px;
    border: 1px solid var(--stroke);
    border-radius: 14px;
    background: rgba(0,0,0,.0);
  }
  input[type="checkbox"] { transform: scale(1.2); }
  .quiz .q { padding: 10px 12px; border: 1px solid var(--stroke); border-radius: 14px; margin-bottom: 10px; color: var(--muted); }
  .quiz .a { margin: -6px 0 12px 0; padding-left: 10px; color: var(--good); font-weight: 900; }
  .quote {
    margin-top: 12px;
    padding: 14px 16px;
    border-left: 5px solid var(--accent);
    background: rgba(167,139,250,.10);
    border-radius: 14px;
    color: var(--muted);
    font-weight: 750;
  }
  footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 18px;
    gap: 12px;
  }
  .progress {
    flex: 1;
    height: 10px;
    border-radius: 999px;
    background: rgba(255,255,255,.10);
    border: 1px solid var(--stroke);
    overflow: hidden;
  }
  [data-theme="light"] .progress { background: rgba(2,6,23,.06); }
  .bar { height: 100%; width: 0%; background: var(--accent); }
  .hintkeys {
    color: var(--muted2);
    font-size: 12px;
    white-space: nowrap;
  }
  .big-badge {
    border: 1px solid var(--stroke);
    border-radius: 28px;
    padding: 22px 22px;
    text-align: center;
    background: rgba(0,0,0,.0);
  }
  .bb-top { font-weight: 900; letter-spacing: .2em; opacity: .8; }
  .bb-mid { font-weight: 1000; font-size: calc(44px * var(--fontScale)); letter-spacing: -0.6px; margin: 8px 0; }
  .bb-bot { color: var(--muted); font-weight: 800; }
  /* Responsive */
  @media (max-width: 980px) {
    .hero { grid-template-columns: 1fr; }
    .two { grid-template-columns: 1fr; }
    .cards { grid-template-columns: 1fr; }
    .slide-inner { padding: 28px 26px; }
    .title { font-size: calc(34px * var(--fontScale)); }
  }
</style>
</head>
<body data-theme="dark">
<div class="deck" id="deck">
  <header>
    <div class="brand" title="ENGSE207 Task Board Project">
      <div class="dot"></div>
      <div>
        <b>ENGSE207</b> <span>Task Board Term Project</span>
      </div>
    </div>
    <div class="toolbar">
      <button class="btn small" id="prevBtn" title="Previous (←)">← Prev</button>
      <button class="btn small" id="nextBtn" title="Next (→)">Next →</button>
      <span class="counter" id="counter">1 / 24</span>
      <button class="btn small" id="fontMinus" title="Font - (-)">A−</button>
      <button class="btn small" id="fontPlus" title="Font + (+)">A+</button>
      <button class="btn small" id="themeBtn" title="Toggle theme (T)">Theme</button>
      <button class="btn small" id="fsBtn" title="Fullscreen (F)">Fullscreen</button>
      <button class="btn small ghost" id="helpBtn" title="Help (?)">?</button>
    </div>
  </header>

  <main class="stage">
    <section class="slide" aria-live="polite" aria-label="Slide">
      <div class="slide-inner" id="slideInner"></div>
    </section>
  </main>

  <footer>
    <div class="progress" aria-label="Progress">
      <div class="bar" id="bar"></div>
    </div>
    <div class="hintkeys" id="hintkeys">
      Keys: ←/→ • Space • Home/End • F • T • +/- • ?
    </div>
  </footer>
</div>

<script>
  const slides = [{"title": "ENGSE207 Task Board Term Project", "subtitle": "Week 3 → 4 → 5 : จาก “รันได้” สู่ “ดูแลง่าย” และ “Deploy ได้จริง”", "body": "\n          <div class=\"hero\">\n            <div class=\"hero-left\">\n              <div class=\"pill\">FHD 16:9 • Offline Ready • Interactive</div>\n              <h2 class=\"big\">From Code That Works → Code That Lasts → Code That Deploys</h2>\n              <p class=\"muted\">สไลด์นี้เป็น guideline แบบ step-by-step สำหรับการพัฒนา Term Project ต่อเนื่อง 3 สัปดาห์</p>\n              <div class=\"kpis\">\n                <div class=\"kpi\"><div class=\"kpi-num\">3</div><div class=\"kpi-label\">Architectures</div></div>\n                <div class=\"kpi\"><div class=\"kpi-num\">3</div><div class=\"kpi-label\">Labs</div></div>\n                <div class=\"kpi\"><div class=\"kpi-num\">1</div><div class=\"kpi-label\">Project</div></div>\n              </div>\n            </div>\n            <div class=\"hero-right\">\n              \n<svg class=\"svg\" viewBox=\"0 0 1200 320\" role=\"img\" aria-label=\"Architecture evolution\">\n  <defs>\n    <linearGradient id=\"g1\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n      <stop offset=\"0\" stop-color=\"currentColor\" stop-opacity=\"0.22\"/>\n      <stop offset=\"1\" stop-color=\"currentColor\" stop-opacity=\"0.04\"/>\n    </linearGradient>\n    <filter id=\"shadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n      <feDropShadow dx=\"0\" dy=\"10\" stdDeviation=\"12\" flood-color=\"#000\" flood-opacity=\"0.35\"/>\n    </filter>\n  </defs>\n  <g filter=\"url(#shadow)\">\n    <rect x=\"30\" y=\"70\" width=\"340\" height=\"180\" rx=\"26\" fill=\"url(#g1)\" stroke=\"currentColor\" stroke-opacity=\"0.35\"/>\n    <rect x=\"430\" y=\"70\" width=\"340\" height=\"180\" rx=\"26\" fill=\"url(#g1)\" stroke=\"currentColor\" stroke-opacity=\"0.35\"/>\n    <rect x=\"830\" y=\"70\" width=\"340\" height=\"180\" rx=\"26\" fill=\"url(#g1)\" stroke=\"currentColor\" stroke-opacity=\"0.35\"/>\n  </g>\n  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" opacity=\"0.7\">\n    <path d=\"M 370 160 C 395 160, 405 160, 430 160\"/>\n    <path d=\"M 770 160 C 795 160, 805 160, 830 160\"/>\n    <path d=\"M 414 146 L 430 160 L 414 174\"/>\n    <path d=\"M 814 146 L 830 160 L 814 174\"/>\n  </g>\n  <g font-family=\"ui-sans-serif, system-ui\" fill=\"currentColor\">\n    <text x=\"200\" y=\"112\" text-anchor=\"middle\" font-size=\"28\" font-weight=\"700\">Week 3</text>\n    <text x=\"200\" y=\"146\" text-anchor=\"middle\" font-size=\"22\" opacity=\"0.9\">Monolithic</text>\n    <text x=\"200\" y=\"198\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">“ให้รันได้ครบ”</text>\n    <text x=\"200\" y=\"222\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">One codebase / one process</text>\n\n    <text x=\"600\" y=\"112\" text-anchor=\"middle\" font-size=\"28\" font-weight=\"700\">Week 4</text>\n    <text x=\"600\" y=\"146\" text-anchor=\"middle\" font-size=\"22\" opacity=\"0.9\">Layered (3-Tier)</text>\n    <text x=\"600\" y=\"198\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">“ให้ดูแลง่าย”</text>\n    <text x=\"600\" y=\"222\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">Controller → Service → Repo</text>\n\n    <text x=\"1000\" y=\"112\" text-anchor=\"middle\" font-size=\"28\" font-weight=\"700\">Week 5</text>\n    <text x=\"1000\" y=\"146\" text-anchor=\"middle\" font-size=\"22\" opacity=\"0.9\">Client–Server</text>\n    <text x=\"1000\" y=\"198\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">“ให้ deploy ได้จริง”</text>\n    <text x=\"1000\" y=\"222\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">Local client ↔ VM server</text>\n  </g>\n</svg>\n\n            </div>\n          </div>\n          ", "notes": ""}, {"title": "ภาพรวมโครงงาน", "subtitle": "Task Board Application (Mini Web System ที่เหมือนงานจริง)", "body": "<div class=\"cards\"><div class=\"card\"><div class=\"card-title\">สิ่งที่ระบบทำ</div><div class=\"card-body\"><ul class='bullets'><li>จัดการงานแบบ Kanban: TODO → IN_PROGRESS → DONE</li><li>CRUD Tasks ผ่าน REST API</li><li>มีกฎธุรกิจ (validation / constraints)</li><li>บันทึกลงฐานข้อมูล SQLite</li></ul></div></div><div class=\"card\"><div class=\"card-title\">Tech Stack</div><div class=\"card-body\"><div class='codebox'>Backend: Node.js + Express<br>DB: SQLite<br>Frontend: HTML/CSS/JS (Fetch API)<br>Tools: Git, VS Code, Thunder Client</div></div></div><div class=\"card\"><div class=\"card-title\">แนวคิดสำคัญ</div><div class=\"card-body\"><ul class='bullets'><li>Week 3: End-to-end working system</li><li>Week 4: Separation of Concerns (3-Tier)</li><li>Week 5: Real deployment (VM) + Client–Server</li></ul></div></div></div>", "notes": ""}, {"title": "Roadmap: Week 3 → 4 → 5", "subtitle": "3 สัปดาห์ = 3 มุมมองของสถาปัตยกรรม", "body": "\n          \n<svg class=\"svg\" viewBox=\"0 0 1200 320\" role=\"img\" aria-label=\"Architecture evolution\">\n  <defs>\n    <linearGradient id=\"g1\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n      <stop offset=\"0\" stop-color=\"currentColor\" stop-opacity=\"0.22\"/>\n      <stop offset=\"1\" stop-color=\"currentColor\" stop-opacity=\"0.04\"/>\n    </linearGradient>\n    <filter id=\"shadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n      <feDropShadow dx=\"0\" dy=\"10\" stdDeviation=\"12\" flood-color=\"#000\" flood-opacity=\"0.35\"/>\n    </filter>\n  </defs>\n  <g filter=\"url(#shadow)\">\n    <rect x=\"30\" y=\"70\" width=\"340\" height=\"180\" rx=\"26\" fill=\"url(#g1)\" stroke=\"currentColor\" stroke-opacity=\"0.35\"/>\n    <rect x=\"430\" y=\"70\" width=\"340\" height=\"180\" rx=\"26\" fill=\"url(#g1)\" stroke=\"currentColor\" stroke-opacity=\"0.35\"/>\n    <rect x=\"830\" y=\"70\" width=\"340\" height=\"180\" rx=\"26\" fill=\"url(#g1)\" stroke=\"currentColor\" stroke-opacity=\"0.35\"/>\n  </g>\n  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" opacity=\"0.7\">\n    <path d=\"M 370 160 C 395 160, 405 160, 430 160\"/>\n    <path d=\"M 770 160 C 795 160, 805 160, 830 160\"/>\n    <path d=\"M 414 146 L 430 160 L 414 174\"/>\n    <path d=\"M 814 146 L 830 160 L 814 174\"/>\n  </g>\n  <g font-family=\"ui-sans-serif, system-ui\" fill=\"currentColor\">\n    <text x=\"200\" y=\"112\" text-anchor=\"middle\" font-size=\"28\" font-weight=\"700\">Week 3</text>\n    <text x=\"200\" y=\"146\" text-anchor=\"middle\" font-size=\"22\" opacity=\"0.9\">Monolithic</text>\n    <text x=\"200\" y=\"198\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">“ให้รันได้ครบ”</text>\n    <text x=\"200\" y=\"222\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">One codebase / one process</text>\n\n    <text x=\"600\" y=\"112\" text-anchor=\"middle\" font-size=\"28\" font-weight=\"700\">Week 4</text>\n    <text x=\"600\" y=\"146\" text-anchor=\"middle\" font-size=\"22\" opacity=\"0.9\">Layered (3-Tier)</text>\n    <text x=\"600\" y=\"198\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">“ให้ดูแลง่าย”</text>\n    <text x=\"600\" y=\"222\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">Controller → Service → Repo</text>\n\n    <text x=\"1000\" y=\"112\" text-anchor=\"middle\" font-size=\"28\" font-weight=\"700\">Week 5</text>\n    <text x=\"1000\" y=\"146\" text-anchor=\"middle\" font-size=\"22\" opacity=\"0.9\">Client–Server</text>\n    <text x=\"1000\" y=\"198\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">“ให้ deploy ได้จริง”</text>\n    <text x=\"1000\" y=\"222\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">Local client ↔ VM server</text>\n  </g>\n</svg>\n\n          <div class=\"two\">\n            <div class=\"panel\">\n              <h3>คำจำง่าย</h3>\n              <ul class=\"bullets\">\n                <li><b>Week 3</b> — “ให้รันได้ครบ”</li>\n                <li><b>Week 4</b> — “ให้ดูแลง่าย”</li>\n                <li><b>Week 5</b> — “ให้ deploy ได้จริง”</li>\n              </ul>\n            </div>\n            <div class=\"panel\">\n              <h3>ผลลัพธ์ที่ควรเห็น</h3>\n              <ul class=\"bullets\">\n                <li>W3: มี API + UI + DB ทำงานครบ</li>\n                <li>W4: โค้ดแยกชั้น / อ่านง่าย / แก้ง่าย</li>\n                <li>W5: Local เรียก API บน VM ผ่าน IP ได้</li>\n              </ul>\n            </div>\n          </div>\n          ", "notes": ""}, {"title": "Week 3: Monolithic Architecture", "subtitle": "คุณทำเสร็จแล้ว — ตอนนี้เราจะใช้เป็นฐานสำหรับ refactor", "body": "<div class=\"cards\"><div class=\"card\"><div class=\"card-title\">Learning Objectives</div><div class=\"card-body\"><ul class='bullets'><li>Setup environment (Node.js + SQLite + Git)</li><li>สร้าง Monolithic app แบบ Full-stack</li><li>ทำ CRUD ผ่าน REST API</li><li>เชื่อม Frontend ↔ Backend ↔ Database</li></ul></div></div><div class=\"card\"><div class=\"card-title\">โครงสร้างโปรเจกต์</div><div class=\"card-body\"><div class='codebox'>week3-monolithic/<br> ├─ server.js<br> ├─ public/ (index.html, style.css, app.js)<br> └─ database/ (schema.sql, tasks.db)</div></div></div><div class=\"card\"><div class=\"card-title\">Checkpoint</div><div class=\"card-body\"><div class='checklist'><label><input type='checkbox'> npm run dev แล้วเปิด http://localhost:3000 ได้</label><label><input type='checkbox'> GET/POST/PUT/DELETE /api/tasks ใช้งานได้</label><label><input type='checkbox'> ย้าย task ระหว่าง TODO/IN_PROGRESS/DONE ได้</label><label><input type='checkbox'> README + REFLECTION มีครบ</label></div></div></div></div>", "notes": ""}, {"title": "Week 3: Step-by-step (ภาพรวม)", "subtitle": "ลำดับการทำงานแบบ Software Engineer", "body": "<ol class=\"steps\"><li><b>Environment Setup</b> (WSL/Ubuntu หรือ macOS/Linux) + Node.js 20 + SQLite + Git</li><li><b>Project Setup</b>: npm init, install express/sqlite3, สร้างโฟลเดอร์ public/ database/</li><li><b>DB Schema</b>: สร้าง tasks table + seed data</li><li><b>Backend</b>: สร้าง API endpoints /api/tasks</li><li><b>Frontend</b>: fetch API + render UI</li><li><b>Testing</b>: ทดสอบ UI + curl/Thunder Client</li><li><b>Documentation</b>: README + reflection + git commits</li></ol><div class='hint'>Tip: Week 3 เป้าคือ “ให้ครบ” ไม่ใช่ “ให้สวยที่สุด”</div>", "notes": ""}, {"title": "Week 3: API Endpoints ที่ต้องมี", "subtitle": "นี่คือสัญญา (contract) ระหว่าง UI และ Server", "body": "\n          <div class=\"table\">\n            <div class=\"row head\"><div>Method</div><div>Endpoint</div><div>Purpose</div></div>\n            <div class=\"row\"><div>GET</div><div>/api/tasks</div><div>ดึง tasks ทั้งหมด</div></div>\n            <div class=\"row\"><div>POST</div><div>/api/tasks</div><div>สร้าง task ใหม่</div></div>\n            <div class=\"row\"><div>PUT</div><div>/api/tasks/:id</div><div>แก้ไข task</div></div>\n            <div class=\"row\"><div>DELETE</div><div>/api/tasks/:id</div><div>ลบ task</div></div>\n            <div class=\"row\"><div>PATCH</div><div>/api/tasks/:id/status</div><div>เปลี่ยนสถานะ</div></div>\n          </div>\n          <div class=\"callout warn\"><b>Observation:</b> ถ้า API เปลี่ยนโดยไม่บอก UI → ระบบพังทันที (Contract broken)</div>\n          ", "notes": ""}, {"title": "Week 3: คำถามชวนคิด", "subtitle": "ก่อนย้ายไป Week 4 ลองตอบให้ได้", "body": "<div class=\"cards\"><div class=\"card\"><div class=\"card-title\">Q1</div><div class=\"card-body\">ถ้าจะเพิ่มฟีเจอร์ “assign task to user” คุณจะเริ่มแก้ตรงไหนใน server.js?</div></div><div class=\"card\"><div class=\"card-title\">Q2</div><div class=\"card-body\">ถ้า validation title ผิด คุณจะหาบั๊กเร็วแค่ไหน?</div></div><div class=\"card\"><div class=\"card-title\">Q3</div><div class=\"card-body\">ถ้าเพื่อนมาช่วยทำงาน คนละส่วนกัน จะชนกันตรงไหนบ้าง?</div></div></div><div class='callout good'><b>Insight:</b> คำถามพวกนี้คือเหตุผลที่ต้องมี Layered Architecture</div>", "notes": ""}, {"title": "Week 4: Layered (3-Tier) Architecture", "subtitle": "Refactor เพื่อคุณภาพ: Maintainability / Testability / Teamwork", "body": "\n          <div class=\"two\">\n            <div class=\"panel\">\n              <h3>เป้าหมาย</h3>\n              <ul class=\"bullets\">\n                <li>แยกความรับผิดชอบ (Separation of Concerns)</li>\n                <li>ทำให้แก้ง่าย / test ง่าย</li>\n                <li>รองรับการขยายฟีเจอร์</li>\n              </ul>\n              <div class=\"callout\"><b>Rule of Thumb:</b> Controller ไม่ควรแตะ SQL • Repository ไม่ควรรู้กฎธุรกิจ</div>\n            </div>\n            <div class=\"panel\">\n<svg class=\"svg\" viewBox=\"0 0 1200 420\" role=\"img\" aria-label=\"3 tier architecture\">\n  <defs>\n    <linearGradient id=\"g2\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n      <stop offset=\"0\" stop-color=\"currentColor\" stop-opacity=\"0.18\"/>\n      <stop offset=\"1\" stop-color=\"currentColor\" stop-opacity=\"0.05\"/>\n    </linearGradient>\n  </defs>\n  <g fill=\"url(#g2)\" stroke=\"currentColor\" stroke-opacity=\"0.35\" stroke-width=\"3\">\n    <rect x=\"90\" y=\"70\" width=\"1020\" height=\"86\" rx=\"22\"/>\n    <rect x=\"90\" y=\"178\" width=\"1020\" height=\"86\" rx=\"22\"/>\n    <rect x=\"90\" y=\"286\" width=\"1020\" height=\"86\" rx=\"22\"/>\n  </g>\n  <g fill=\"currentColor\" font-family=\"ui-sans-serif, system-ui\">\n    <text x=\"600\" y=\"122\" text-anchor=\"middle\" font-size=\"26\" font-weight=\"800\">Presentation Layer (Controllers)</text>\n    <text x=\"600\" y=\"150\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">HTTP request/response • input format • status codes</text>\n\n    <text x=\"600\" y=\"230\" text-anchor=\"middle\" font-size=\"26\" font-weight=\"800\">Business Logic Layer (Services)</text>\n    <text x=\"600\" y=\"258\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">rules • validation • workflow orchestration</text>\n\n    <text x=\"600\" y=\"338\" text-anchor=\"middle\" font-size=\"26\" font-weight=\"800\">Data Access Layer (Repositories)</text>\n    <text x=\"600\" y=\"366\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">CRUD • SQL queries • persistence</text>\n  </g>\n  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"6\" stroke-linecap=\"round\" opacity=\"0.7\">\n    <path d=\"M 600 156 L 600 178\"/>\n    <path d=\"M 600 264 L 600 286\"/>\n    <path d=\"M 586 170 L 600 178 L 614 170\"/>\n    <path d=\"M 586 278 L 600 286 L 614 278\"/>\n  </g>\n</svg>\n</div>\n          </div>\n          ", "notes": ""}, {"title": "Week 4: โครงสร้างโฟลเดอร์เป้าหมาย", "subtitle": "สิ่งที่นักศึกษาต้องจัดให้เป็นระเบียบ", "body": "\n          <div class=\"codebox\">\nweek4-layered/<br>\n ├─ server.js<br>\n ├─ database/ (connection.js, schema.sql, tasks.db)<br>\n ├─ src/<br>\n │   ├─ controllers/ (Presentation)<br>\n │   ├─ services/ (Business Logic)<br>\n │   ├─ repositories/ (Data Access)<br>\n │   ├─ models/ (Task)<br>\n │   ├─ middleware/ (errorHandler, validator)<br>\n │   └─ utils/ (logger)<br>\n └─ public/ (UI เดิมใช้ต่อได้)\n          </div>\n          <div class=\"hint\">Week 4 โค้ดจะ “เยอะขึ้น” แต่ “ดูแลง่ายขึ้น”</div>\n          ", "notes": ""}, {"title": "Week 4: Refactor Step-by-step (90 นาที)", "subtitle": "ทำทีละก้าว อย่ารีบ", "body": "<ol class=\"steps\"><li><b>1) Duplicate</b>: คัดลอกโปรเจกต์ Week 3 ไปเป็น week4-layered</li><li><b>2) Create skeleton</b>: สร้างโฟลเดอร์ src/ และไฟล์พื้นฐาน</li><li><b>3) DB connection</b>: แยก database/connection.js (Promise helpers)</li><li><b>4) Model</b>: สร้าง Task model + isValid()</li><li><b>5) Repository</b>: ย้าย SQL ไปไว้ที่ repositories/</li><li><b>6) Service</b>: ย้าย business rules + validation business</li><li><b>7) Controller</b>: เหลือแต่ HTTP handling + call service</li><li><b>8) Wire routes</b>: ต่อ route ให้ชี้เข้า controller</li><li><b>9) Regression test</b>: ทดสอบ endpoint เดิมทั้งหมดให้ผ่านเหมือนเดิม</li></ol><div class='callout warn'><b>Important:</b> เป้าหมายคือ “behavior เดิมต้องไม่พัง” (Refactor = change structure, not behavior)</div>", "notes": ""}, {"title": "Week 4: Layer Decision Mini-Quiz", "subtitle": "ลองตัดสินใจว่าควรอยู่ชั้นไหน", "body": "\n          <div class=\"quiz\">\n            <div class=\"q\"><b>1)</b> <span class=\"mono\">db.all('SELECT * FROM tasks')</span> → อยู่ชั้นไหน?</div>\n            <div class=\"a\">Repository</div>\n            <div class=\"q\"><b>2)</b> <span class=\"mono\">if (priority==='HIGH' && !description) throw ...</span> → อยู่ชั้นไหน?</div>\n            <div class=\"a\">Service</div>\n            <div class=\"q\"><b>3)</b> <span class=\"mono\">res.status(201).json(...)</span> → อยู่ชั้นไหน?</div>\n            <div class=\"a\">Controller</div>\n          </div>\n          <div class=\"callout good\"><b>Goal:</b> ฝึก “แยกความคิด” ก่อนแยกไฟล์</div>\n          ", "notes": ""}, {"title": "Week 4: Testing Checklist", "subtitle": "ทดสอบ 2 มุม: Function + Layer Separation", "body": "\n          <div class=\"two\">\n            <div class=\"panel\">\n              <h3>Functional Tests</h3>\n              <div class=\"checklist\">\n                <label><input type=\"checkbox\"> GET /api/tasks คืนค่าได้</label>\n                <label><input type=\"checkbox\"> POST /api/tasks สร้างได้</label>\n                <label><input type=\"checkbox\"> PUT /api/tasks/:id แก้ได้</label>\n                <label><input type=\"checkbox\"> DELETE /api/tasks/:id ลบได้</label>\n                <label><input type=\"checkbox\"> กรอง status/priority (ถ้ามี)</label>\n              </div>\n            </div>\n            <div class=\"panel\">\n              <h3>Architecture Tests</h3>\n              <div class=\"checklist\">\n                <label><input type=\"checkbox\"> Controller ไม่มี business rules</label>\n                <label><input type=\"checkbox\"> Service ไม่มี SQL</label>\n                <label><input type=\"checkbox\"> Repository ไม่มี validation ธุรกิจ</label>\n                <label><input type=\"checkbox\"> Error ถูกส่งขึ้น layer ถูกต้อง</label>\n              </div>\n            </div>\n          </div>\n          ", "notes": ""}, {"title": "Week 4: งานวิเคราะห์ (สำคัญมาก)", "subtitle": "ANALYSIS.md คือคะแนนก้อนใหญ่ และคือ “การคิดแบบสถาปนิกซอฟต์แวร์”", "body": "<div class=\"cards\"><div class=\"card\"><div class=\"card-title\">สิ่งที่ต้องทำ</div><div class=\"card-body\"><ul class='bullets'><li>เปรียบเทียบ Monolithic vs Layered (จำนวนไฟล์/บรรทัด/ความซับซ้อน)</li><li>ให้คะแนน Quality Attributes (Maintainability, Testability, Performance ฯลฯ)</li><li>วิเคราะห์สถานการณ์จริง: เพิ่ม feature / แก้บั๊ก / เปลี่ยน DB</li><li>สรุป trade-offs และ decision tree</li></ul></div></div><div class=\"card\"><div class=\"card-title\">Key Insight</div><div class=\"card-body\">Architecture คือการเลือก trade-off ไม่ใช่ “ถูก/ผิด”</div></div><div class=\"card\"><div class=\"card-title\">คำถามชวนคิด</div><div class=\"card-body\">ถ้าโปรเจกต์เล็กมาก Layered จะเป็น over-engineering ไหม? ทำไม?</div></div></div>", "notes": ""}, {"title": "Week 5: Client–Server + VM Deployment", "subtitle": "ย้าย Backend ไปอยู่ “อีกเครื่อง” เพื่อจำลองโลกจริง", "body": "\n          <div class=\"two\">\n            <div class=\"panel\">\n              <h3>เป้าหมาย</h3>\n              <ul class=\"bullets\">\n                <li>ติดตั้ง Ubuntu Server บน VirtualBox</li>\n                <li>ตั้งค่า network ให้ local คุยกับ VM ได้</li>\n                <li>Deploy backend + DB ไปไว้ใน VM</li>\n                <li>Frontend ทำงานที่ local และเรียก API ผ่าน IP</li>\n                <li>ใช้ PM2 ให้รันแบบ production-like</li>\n              </ul>\n              <div class=\"callout warn\"><b>New Reality:</b> CORS / Firewall / IP / Process Manager</div>\n            </div>\n            <div class=\"panel\">\n<svg class=\"svg\" viewBox=\"0 0 1200 420\" role=\"img\" aria-label=\"client server on vm\">\n  <defs>\n    <linearGradient id=\"g3\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\n      <stop offset=\"0\" stop-color=\"currentColor\" stop-opacity=\"0.20\"/>\n      <stop offset=\"1\" stop-color=\"currentColor\" stop-opacity=\"0.05\"/>\n    </linearGradient>\n  </defs>\n  <g stroke=\"currentColor\" stroke-opacity=\"0.35\" stroke-width=\"3\" fill=\"url(#g3)\">\n    <rect x=\"60\" y=\"70\" width=\"420\" height=\"280\" rx=\"26\"/>\n    <rect x=\"720\" y=\"70\" width=\"420\" height=\"280\" rx=\"26\"/>\n    <rect x=\"770\" y=\"190\" width=\"320\" height=\"120\" rx=\"22\"/>\n  </g>\n  <g fill=\"currentColor\" font-family=\"ui-sans-serif, system-ui\">\n    <text x=\"270\" y=\"116\" text-anchor=\"middle\" font-size=\"26\" font-weight=\"800\">Local Machine</text>\n    <text x=\"270\" y=\"150\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">Browser / Frontend</text>\n    <text x=\"270\" y=\"220\" text-anchor=\"middle\" font-size=\"18\" opacity=\"0.9\">index.html + app.js</text>\n    <text x=\"270\" y=\"248\" text-anchor=\"middle\" font-size=\"14\" opacity=\"0.8\">http://localhost:8080</text>\n\n    <text x=\"930\" y=\"116\" text-anchor=\"middle\" font-size=\"26\" font-weight=\"800\">VM: Ubuntu Server</text>\n    <text x=\"930\" y=\"150\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.85\">Backend + DB</text>\n    <text x=\"930\" y=\"220\" text-anchor=\"middle\" font-size=\"18\" opacity=\"0.9\">Node.js API (PM2)</text>\n    <text x=\"930\" y=\"248\" text-anchor=\"middle\" font-size=\"14\" opacity=\"0.8\">http://VM_IP:3000</text>\n\n    <text x=\"930\" y=\"232\" text-anchor=\"middle\" font-size=\"14\" opacity=\"0.0\"></text>\n    <text x=\"930\" y=\"230\" text-anchor=\"middle\" font-size=\"18\" font-weight=\"700\"></text>\n\n    <text x=\"930\" y=\"230\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"230\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"230\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"236\" text-anchor=\"middle\" font-size=\"0\"></text>\n    \n    <text x=\"930\" y=\"222\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"232\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"254\" text-anchor=\"middle\" font-size=\"0\"></text>\n\n    <text x=\"930\" y=\"266\" text-anchor=\"middle\" font-size=\"0\"></text>\n  </g>\n  <g fill=\"currentColor\" font-family=\"ui-sans-serif, system-ui\">\n    <text x=\"930\" y=\"222\" text-anchor=\"middle\" font-size=\"18\" font-weight=\"800\">SQLite Database</text>\n    <text x=\"930\" y=\"250\" text-anchor=\"middle\" font-size=\"14\" opacity=\"0.85\">database/tasks.db</text>\n  </g>\n  <g fill=\"none\" stroke=\"currentColor\" stroke-width=\"6\" stroke-linecap=\"round\" opacity=\"0.75\">\n    <path d=\"M 480 210 C 560 210, 640 210, 720 210\"/>\n    <path d=\"M 706 196 L 720 210 L 706 224\"/>\n    <path d=\"M 494 196 L 480 210 L 494 224\"/>\n  </g>\n  <g fill=\"currentColor\" font-family=\"ui-sans-serif, system-ui\">\n    <text x=\"600\" y=\"190\" text-anchor=\"middle\" font-size=\"16\" opacity=\"0.9\">HTTP + CORS + Network</text>\n  </g>\n</svg>\n</div>\n          </div>\n          ", "notes": ""}, {"title": "Week 5: Step-by-step (Part 1) — VM Setup", "subtitle": "VirtualBox + Ubuntu Server (60 นาที)", "body": "<ol class=\"steps\"><li><b>1) Install VirtualBox</b> (Host machine)</li><li><b>2) Create VM</b>: 2GB RAM, 2 CPU, 10–50GB disk</li><li><b>3) Network</b>: Adapter#1 Host-only, Adapter#2 NAT</li><li><b>4) Install Ubuntu Server</b> + ติ๊ก Install OpenSSH</li><li><b>5) จด IP</b>: ใช้ <span class='mono'>ip addr</span> หรือ <span class='mono'>hostname -I</span></li></ol><div class='callout good'><b>Checkpoint:</b> เครื่อง local ping VM IP ได้</div>", "notes": ""}, {"title": "Week 5: Step-by-step (Part 2) — Server Preparation", "subtitle": "ตั้งค่า Ubuntu ให้พร้อม deploy (40 นาที)", "body": "<ol class=\"steps\"><li><b>1) Update</b>: <span class='mono'>sudo apt update && sudo apt upgrade -y</span></li><li><b>2) Tools</b>: curl, git, build-essential, net-tools</li><li><b>3) Firewall</b>: เปิด 22/tcp และ 3000/tcp ด้วย ufw</li><li><b>4) Node.js 20</b> + ติดตั้ง <span class='mono'>pm2</span></li><li><b>5) SQLite</b>: ติดตั้ง sqlite3 และเตรียมโฟลเดอร์ project</li></ol><div class='hint'>Tip: ถ้าเข้าจาก VS Code Remote-SSH ได้ = workflow จะเหมือนทำงานจริงมาก</div>", "notes": ""}, {"title": "Week 5: Step-by-step (Part 3) — Deploy Backend", "subtitle": "ย้ายโค้ดจาก local ไป VM (50 นาที)", "body": "<div class=\"cards\"><div class=\"card\"><div class=\"card-title\">Option A: Git (แนะนำ)</div><div class=\"card-body\"><ul class='bullets'><li>push โค้ด week4-layered ไป GitHub</li><li>VM: git clone repo</li><li>npm install</li><li>สร้าง .env production + DB_PATH</li></ul></div></div><div class=\"card\"><div class=\"card-title\">Option B: SCP/Archive</div><div class=\"card-body\"><ul class='bullets'><li>local: tar.gz (exclude node_modules, *.db)</li><li>scp ไป VM</li><li>แตกไฟล์ใน ~/projects/task-board-api</li></ul></div></div><div class=\"card\"><div class=\"card-title\">Critical Check</div><div class=\"card-body\"><ul class='bullets'><li>server listen ที่ 0.0.0.0 (ไม่ใช่ localhost อย่างเดียว)</li><li>เปิด port 3000 บน ufw แล้ว</li><li>ลองเรียกจาก local: http://VM_IP:3000/api/tasks</li></ul></div></div></div>", "notes": ""}, {"title": "Week 5: Step-by-step (Part 4) — Connect Frontend", "subtitle": "Frontend (local) ต้องรู้จัก VM IP (40 นาที)", "body": "<ol class=\"steps\"><li>คัดลอก public/ จาก week4 มาที่ week5-client-server/public</li><li>สร้าง <span class='mono'>config.js</span> กำหนด BASE_URL = http://VM_IP:3000</li><li>แก้ <span class='mono'>app.js</span> ให้ fetch ไปที่ API.TASKS/ API.STATS</li><li>รัน local static server: <span class='mono'>python -m http.server 8080</span> หรือ Live Server</li><li>ถ้าเจอ CORS error → เปิด CORS บน backend</li></ol><div class='callout warn'><b>Common Issue:</b> CORS คือสิ่งที่ทำให้ “เรียกได้จาก browser อีก origin”</div>", "notes": ""}, {"title": "Week 5: Step-by-step (Part 5) — PM2 Production-like", "subtitle": "ทำให้ server อยู่รันได้ต่อเนื่อง (30 นาที)", "body": "\n          <div class=\"two\">\n            <div class=\"panel\">\n              <h3>PM2 ทำอะไรให้เรา?</h3>\n              <ul class=\"bullets\">\n                <li>Auto-restart เมื่อ crash</li>\n                <li>รัน background</li>\n                <li>จัดการ logs</li>\n                <li>Start on boot</li>\n              </ul>\n            </div>\n            <div class=\"panel\">\n              <h3>คำสั่งหลัก</h3>\n              <div class=\"codebox\">\npm2 start ecosystem.config.js<br>\npm2 status<br>\npm2 logs task-board-api --lines 20<br>\npm2 restart task-board-api<br>\npm2 startup  (แล้วทำตามคำสั่งที่แสดง)<br>\npm2 save\n              </div>\n            </div>\n          </div>\n          <div class=\"callout good\"><b>Checkpoint:</b> reboot VM แล้วกลับมา <span class=\"mono\">pm2 list</span> ยัง online อยู่</div>\n          ", "notes": ""}, {"title": "Week 5: Troubleshooting (ที่เจอบ่อย)", "subtitle": "เช็คตามลำดับนี้ก่อนเสมอ", "body": "<div class=\"cards\"><div class=\"card\"><div class=\"card-title\">Ping ไม่ได้</div><div class=\"card-body\"><ul class='bullets'><li>เช็ค VM network: Host-only / NAT ถูกตั้งไหม</li><li>เช็ค IP: hostname -I</li><li>เช็ค firewall บน host/VM</li></ul></div></div><div class=\"card\"><div class=\"card-title\">เข้า API ไม่ได้</div><div class=\"card-body\"><ul class='bullets'><li>เช็ค PM2: pm2 status</li><li>เช็ค port: netstat -tlnp | grep 3000</li><li>เช็ค listen host: 0.0.0.0</li></ul></div></div><div class=\"card\"><div class=\"card-title\">CORS Error</div><div class=\"card-body\"><ul class='bullets'><li>ติดตั้ง cors และ app.use(cors())</li><li>restart PM2</li></ul></div></div></div><div class='hint'>Debug rule: ถ้า curl จาก VM ได้ แต่ browser จาก local ไม่ได้ → มักเป็น network/firewall/CORS</div>", "notes": ""}, {"title": "สรุปเปรียบเทียบ 3 สถาปัตยกรรม", "subtitle": "มองให้เป็น trade-offs ไม่ใช่ถูก/ผิด", "body": "\n          <div class=\"table\">\n            <div class=\"row head\"><div>Topic</div><div>Week 3</div><div>Week 4</div><div>Week 5</div></div>\n            <div class=\"row\"><div>โครงสร้างโค้ด</div><div>รวม</div><div>แยก layer</div><div>แยก layer + แยกเครื่อง</div></div>\n            <div class=\"row\"><div>Maintainability</div><div>ต่ำ</div><div>สูง</div><div>สูง</div></div>\n            <div class=\"row\"><div>Deployment</div><div>ง่ายสุด</div><div>ยัง local</div><div>เหมือนจริงสุด</div></div>\n            <div class=\"row\"><div>ความเสี่ยง</div><div>แก้พังง่าย</div><div>ซับซ้อนขึ้น</div><div>Network/CORS/Process</div></div>\n          </div>\n          <div class=\"callout\"><b>Key idea:</b> W3 สอน “ครบ” • W4 สอน “คุณภาพ” • W5 สอน “โลกจริง”</div>\n          ", "notes": ""}, {"title": "คำถามท้ายสไลด์ (ใช้ถามในคลาส)", "subtitle": "Architectural Thinking", "body": "\n          <div class=\"cards\">\n            <div class=\"card\"><div class=\"card-title\">Q1</div><div class=\"card-body\">ถ้าทีมมี 2 คนและต้องปล่อย MVP ใน 2 สัปดาห์ คุณจะเลือกเริ่มที่ architecture ไหน? เพราะอะไร?</div></div>\n            <div class=\"card\"><div class=\"card-title\">Q2</div><div class=\"card-body\">ถ้าต้องเปลี่ยนจาก SQLite → PostgreSQL จุดที่ “ควรแก้” อยู่ layer ไหน?</div></div>\n            <div class=\"card\"><div class=\"card-title\">Q3</div><div class=\"card-body\">ถ้า latency สูงขึ้นใน Week 5 มาจากอะไรได้บ้าง? จะแก้อย่างไร?</div></div>\n          </div>\n          <div class=\"callout good\"><b>Goal:</b> ให้ทุกคนอธิบายเหตุผลด้วย “Quality Attributes” (ไม่ใช่ความรู้สึก)</div>\n          ", "notes": ""}, {"title": "Deliverables Checklist (Week 3–5)", "subtitle": "ส่งงานแบบมืออาชีพ", "body": "\n          <div class=\"two\">\n            <div class=\"panel\">\n              <h3>Week 3</h3>\n              <div class=\"checklist\">\n                <label><input type=\"checkbox\"> โค้ดรันได้</label>\n                <label><input type=\"checkbox\"> CRUD ครบ</label>\n                <label><input type=\"checkbox\"> README + Reflection</label>\n                <label><input type=\"checkbox\"> Git commits มีความหมาย</label>\n              </div>\n            </div>\n            <div class=\"panel\">\n              <h3>Week 4</h3>\n              <div class=\"checklist\">\n                <label><input type=\"checkbox\"> แยก 3 layers ถูกต้อง</label>\n                <label><input type=\"checkbox\"> ทดสอบ endpoint เดิมผ่าน</label>\n                <label><input type=\"checkbox\"> ANALYSIS.md (สำคัญ)</label>\n                <label><input type=\"checkbox\"> Error handling ใช้งานได้</label>\n              </div>\n            </div>\n          </div>\n          <div class=\"panel\" style=\"margin-top:14px;\">\n            <h3>Week 5</h3>\n            <div class=\"checklist cols3\">\n              <label><input type=\"checkbox\"> VM ติดตั้งสำเร็จ + SSH ได้</label>\n              <label><input type=\"checkbox\"> Backend บน VM ใช้งานได้</label>\n              <label><input type=\"checkbox\"> local frontend เรียก API ผ่าน IP ได้</label>\n              <label><input type=\"checkbox\"> เปิด CORS แล้ว</label>\n              <label><input type=\"checkbox\"> PM2 online + auto-start</label>\n              <label><input type=\"checkbox\"> มี screenshots หลักฐาน</label>\n            </div>\n          </div>\n          ", "notes": ""}, {"title": "You’re building like a real engineer", "subtitle": "Next: ทำให้มัน “ขยายได้” (ต่อยอดสัปดาห์ถัดไป)", "body": "\n          <div class=\"hero\">\n            <div class=\"hero-left\">\n              <div class=\"pill\">Mindset</div>\n              <h2 class=\"big\">Architecture evolves.</h2>\n              <p class=\"muted\">เริ่มจากง่าย → ทำให้เป็นระเบียบ → deploy ให้เหมือนโลกจริง</p>\n              <div class=\"quote\">“Refactor is an investment. Deployment is a responsibility.”</div>\n              <div class=\"hint\">Keyboard: ←/→, Space, F (fullscreen), T (theme), +/- (font)</div>\n            </div>\n            <div class=\"hero-right\">\n              <div class=\"big-badge\">\n                <div class=\"bb-top\">ENGSE207</div>\n                <div class=\"bb-mid\">Task Board</div>\n                <div class=\"bb-bot\">Week 3–5</div>\n              </div>\n            </div>\n          </div>\n          ", "notes": ""}];
  let idx = 0;
  let fontScale = 1.0;
  const deck = document.getElementById('deck');
  const slideInner = document.getElementById('slideInner');
  const counter = document.getElementById('counter');
  const bar = document.getElementById('bar');

  function clamp(n, a, b) { return Math.max(a, Math.min(b, n)); }

  function render() {
    const s = slides[idx];
    slideInner.innerHTML = `
      <div class="title">${s.title}</div>
      <div class="subtitle">${s.subtitle || ''}</div>
      <div class="content">${s.body || ''}</div>
    `;
    counter.textContent = `${idx+1} / ${slides.length}`;
    bar.style.width = `${((idx+1)/slides.length)*100}%`;
    document.title = `ENGSE207 — ${s.title}`;
  }

  function next() { idx = clamp(idx + 1, 0, slides.length - 1); render(); }
  function prev() { idx = clamp(idx - 1, 0, slides.length - 1); render(); }
  function go(n) { idx = clamp(n, 0, slides.length - 1); render(); }

  // Buttons
  document.getElementById('nextBtn').addEventListener('click', next);
  document.getElementById('prevBtn').addEventListener('click', prev);

  document.getElementById('fontPlus').addEventListener('click', () => {
    fontScale = clamp(fontScale + 0.08, 0.85, 1.55);
    document.documentElement.style.setProperty('--fontScale', fontScale.toFixed(2));
  });
  document.getElementById('fontMinus').addEventListener('click', () => {
    fontScale = clamp(fontScale - 0.08, 0.85, 1.55);
    document.documentElement.style.setProperty('--fontScale', fontScale.toFixed(2));
  });

  document.getElementById('themeBtn').addEventListener('click', () => {
    const t = document.body.getAttribute('data-theme');
    document.body.setAttribute('data-theme', t === 'dark' ? 'light' : 'dark');
  });

  async function toggleFullscreen() {
    if (!document.fullscreenElement) {
      await document.documentElement.requestFullscreen();
    } else {
      await document.exitFullscreen();
    }
  }
  document.getElementById('fsBtn').addEventListener('click', toggleFullscreen);

  const helpText = `Keyboard shortcuts:
  ←/→ : Previous/Next
  Space : Next
  Home/End : First/Last
  + / - : Font size
  T : Theme
  F : Fullscreen
  ? : Help`;

  document.getElementById('helpBtn').addEventListener('click', () => {
    alert(helpText);
  });

  // Keyboard
  window.addEventListener('keydown', (e) => {
    const key = e.key.toLowerCase();
    if (key === 'arrowright' || key === ' ') { e.preventDefault(); next(); }
    else if (key === 'arrowleft') { e.preventDefault(); prev(); }
    else if (key === 'home') { e.preventDefault(); go(0); }
    else if (key === 'end') { e.preventDefault(); go(slides.length - 1); }
    else if (key === 'f') { e.preventDefault(); toggleFullscreen(); }
    else if (key === 't') { e.preventDefault(); document.getElementById('themeBtn').click(); }
    else if (key === '+' || key === '=') { e.preventDefault(); document.getElementById('fontPlus').click(); }
    else if (key === '-' || key === '_') { e.preventDefault(); document.getElementById('fontMinus').click(); }
    else if (key === '?' || (e.shiftKey && key === '/')) { e.preventDefault(); alert(helpText); }
  });

  // Swipe (mobile)
  let x0 = null;
  slideInner.addEventListener('touchstart', (e) => { x0 = e.touches[0].clientX; }, {passive:true});
  slideInner.addEventListener('touchend', (e) => {
    if (x0 === null) return;
    const x1 = e.changedTouches[0].clientX;
    const dx = x1 - x0;
    if (Math.abs(dx) > 45) {
      if (dx < 0) next(); else prev();
    }
    x0 = null;
  }, {passive:true});

  // Init
  document.documentElement.style.setProperty('--fontScale', fontScale.toFixed(2));
  render();
</script>
</body>
</html>
