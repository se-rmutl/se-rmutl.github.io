<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENGSE207: Architecture Lab Guide (Week 3-5)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --bg-dark: #0f172a;
            --bg-card: rgba(30, 41, 59, 0.7);
            --primary: #3b82f6;     /* Blue */
            --accent: #06b6d4;      /* Cyan */
            --purple: #a855f7;      /* Purple */
            --success: #10b981;     /* Green */
            --warning: #f59e0b;     /* Amber */
            --danger: #ef4444;      /* Red */
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --code-bg: #1e1e1e;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Sarabun', 'Inter', sans-serif;
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.15) 0px, transparent 50%);
            color: var(--text-main);
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        /* Slide Container */
        #presentation {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .slide {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            padding: 40px 60px;
            opacity: 0;
            visibility: hidden;
            transform: scale(0.95) translateY(20px);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1) translateY(0);
            z-index: 10;
        }

        /* Typography */
        h1 { font-size: 3.5rem; font-weight: 800; letter-spacing: -1px; margin-bottom: 0.5rem; background: linear-gradient(to right, var(--primary), var(--purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        h2 { font-size: 2.2rem; font-weight: 700; color: var(--text-main); margin-bottom: 1.5rem; border-left: 6px solid var(--accent); padding-left: 20px; display: flex; align-items: center; gap: 15px;}
        h3 { font-size: 1.4rem; color: var(--accent); margin-bottom: 1rem; font-weight: 600; }
        h4 { font-size: 1.1rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
        
        p, li { font-size: 1.05rem; line-height: 1.6; color: #cbd5e1; margin-bottom: 8px; }
        strong { color: var(--text-main); font-weight: 700; }

        /* Components */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; height: 100%; align-items: center; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; }
        
        .card {
            background: var(--bg-card);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--primary); }

        .highlight-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--success);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-top: 15px;
        }
        
        .insight-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px dashed var(--warning);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .insight-title { color: var(--warning); font-weight: bold; font-size: 0.9rem; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }

        /* Code Blocks */
        pre {
            background: var(--code-bg);
            padding: 15px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            border: 1px solid #333;
            overflow-x: auto;
            color: #e2e8f0;
            margin-bottom: 15px;
        }
        code { font-family: 'JetBrains Mono'; color: var(--accent); background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px; }
        .hl-comment { color: #6b7280; font-style: italic; }
        .hl-keyword { color: #c678dd; }
        .hl-string { color: #98c379; }

        /* Diagrams CSS */
        .diagram-box {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            position: relative;
        }

        /* 3-Tier Stack */
        .stack-container { display: flex; flex-direction: column; gap: 10px; width: 60%; }
        .stack-layer {
            border: 2px solid;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            background: var(--bg-card);
            position: relative;
            font-weight: 600;
        }
        .arrow-down { text-align: center; color: var(--text-muted); font-size: 1.2rem; }

        /* UI Elements */
        .step-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-size: 0.9rem;
            font-weight: bold;
            margin-right: 10px;
        }

        /* Controls */
        .progress-bar {
            position: fixed;
            top: 0; left: 0; height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 0.3s;
            z-index: 100;
        }
        .controls {
            position: fixed;
            bottom: 30px; right: 30px;
            display: flex; gap: 15px; z-index: 20;
        }
        .btn-nav {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            width: 50px; height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
            display: flex; align-items: center; justify-content: center;
        }
        .btn-nav:hover { background: var(--primary); border-color: var(--primary); }
        .slide-counter { position: fixed; bottom: 30px; left: 30px; color: var(--text-muted); font-family: 'JetBrains Mono'; }

    </style>
</head>
<body>

    <div class="progress-bar" id="progressBar"></div>
    <div class="slide-counter" id="slideCounter">01 / 12</div>

    <div id="presentation">

        <div class="slide active">
            <div style="text-align: center; max-width: 900px; margin: 0 auto;">
                <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 20px;">
                    <span style="background: rgba(59, 130, 246, 0.2); color: var(--primary); padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">ENGSE207</span>
                    <span style="background: rgba(168, 85, 247, 0.2); color: var(--purple); padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">Software Architecture</span>
                </div>
                <h1>Term Project Roadmap</h1>
                <h2 style="border: none; padding: 0; justify-content: center; color: var(--text-muted); font-weight: 400;">
                    From Monolith to Microservices: A Practical Journey
                </h2>
                
                <div class="grid-3" style="margin-top: 60px; text-align: left;">
                    <div class="card" style="border-top: 4px solid var(--warning);">
                        <div style="color: var(--warning); font-size: 2rem; margin-bottom: 15px;"><i class="fas fa-cube"></i></div>
                        <h3>Week 3: Monolith</h3>
                        <p style="font-size: 0.9rem;">"All-in-One"<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö Task Board ‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
                    </div>
                    <div class="card" style="border-top: 4px solid var(--purple);">
                        <div style="color: var(--purple); font-size: 2rem; margin-bottom: 15px;"><i class="fas fa-layer-group"></i></div>
                        <h3>Week 4: Layered</h3>
                        <p style="font-size: 0.9rem;">"Separation of Concerns"<br>Refactor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö Code ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏•</p>
                    </div>
                    <div class="card" style="border-top: 4px solid var(--accent);">
                        <div style="color: var(--accent); font-size: 2rem; margin-bottom: 15px;"><i class="fas fa-server"></i></div>
                        <h3>Week 5: Client-Server</h3>
                        <p style="font-size: 0.9rem;">"Deployment"<br>‡∏à‡∏≥‡∏•‡∏≠‡∏á Production ‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏¢‡∏Å Frontend/Backend ‡∏Ñ‡∏ô‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üéØ Term Project: "Task Board System"</h2>
            <div class="grid-2">
                <div>
                    <p>‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ó‡∏≠‡∏° ‡∏Ñ‡∏∑‡∏≠ <strong>Task Management (Kanban)</strong> ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô <strong>"Architecture"</strong> ‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</p>
                    
                    <div class="card" style="margin-top: 20px;">
                        <h4>Core Features</h4>
                        <ul style="list-style: none;">
                            <li><i class="fas fa-check-circle" style="color: var(--success);"></i> <strong>CRUD Tasks:</strong> Create, Read, Update, Delete ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</li>
                            <li><i class="fas fa-check-circle" style="color: var(--success);"></i> <strong>Status:</strong> Todo ‚ûî In Progress ‚ûî Done</li>
                            <li><i class="fas fa-check-circle" style="color: var(--success);"></i> <strong>Priority:</strong> Low, Medium, High</li>
                        </ul>
                    </div>
                </div>
                <div class="card" style="background: rgba(15, 23, 42, 0.5);">
                    <h4>Tech Stack</h4>
                    <ul style="margin-top: 15px; font-family: 'JetBrains Mono'; color: var(--accent);">
                        <li style="margin-bottom: 10px;">Frontend: HTML5 + CSS + Vanilla JS</li>
                        <li style="margin-bottom: 10px;">Backend: Node.js (Express Framework)</li>
                        <li style="margin-bottom: 10px;">Database: SQLite (Week 3-4) ‚ûî PostgreSQL (Week 6+)</li>
                        <li>Tools: Git, VS Code, Postman, VirtualBox</li>
                    </ul>
                    <div class="insight-box">
                        <div class="insight-title"><i class="fas fa-lightbulb"></i> Instructor's Note</div>
                        <p style="font-size: 0.85rem;">‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á Vanilla JS? ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à HTTP Request (Fetch API) ‡πÅ‡∏•‡∏∞ DOM Manipulation ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ Framework ‡∏≠‡∏¢‡πà‡∏≤‡∏á React</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üì¶ Week 3: Monolithic Architecture (Foundation)</h2>
            <div class="grid-2">
                <div>
                    <p><strong>Goal:</strong> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
                    <div class="card" style="margin-top: 15px;">
                        <h4>Step-by-Step Lab</h4>
                        <ol style="margin-left: 20px; font-size: 0.95rem;">
                            <li><strong>Setup:</strong> <code>npm init -y</code> ‡πÅ‡∏•‡∏∞‡∏•‡∏á <code>express</code>, <code>sqlite3</code></li>
                            [cite_start]<li><strong>Database:</strong> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå <code>schema.sql</code> ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á <code>tasks.db</code> [cite: 1]</li>
                            <li><strong>Backend:</strong> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô <code>server.js</code> ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á:
                                <ul>
                                    <li>Connect DB</li>
                                    <li>Define Routes (GET, POST...)</li>
                                    <li>Handle Logic & Response</li>
                                </ul>
                            </li>
                            <li><strong>Frontend:</strong> ‡∏™‡∏£‡πâ‡∏≤‡∏á <code>index.html</code> ‡πÅ‡∏•‡∏∞ <code>app.js</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á API</li>
                        </ol>
                    </div>
                </div>
                <div class="diagram-box">
                    <div style="background: var(--bg-card); border: 3px solid var(--warning); border-radius: 12px; padding: 30px; width: 300px; text-align: center; position: relative;">
                        <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: var(--bg-dark); padding: 0 10px; color: var(--warning); font-weight: bold;">Monolith App</div>
                        <i class="fas fa-code fa-3x" style="color: var(--text-muted); margin-bottom: 15px;"></i>
                        <div style="border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 10px;">UI Code (HTML/JS)</div>
                        <div style="border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 10px; color: var(--warning);">Business Logic</div>
                        <div style="color: var(--success);">Data Access (SQL)</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>ü§î Week 3 Analysis: The "God Object" Problem</h2>
            <div class="grid-2">
                <div>
                    <p>‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô Week 3 ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ... ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡πà‡∏∞?</p>
                    <pre>
<span class="hl-comment">// server.js (Example of Bad Smell)</span>
app.post('/tasks', (req, res) => {
  <span class="hl-comment">// 1. Validation Logic</span>
  if (!req.body.title) return res.error...
  
  <span class="hl-comment">// 2. Business Logic</span>
  if (req.body.priority === 'HIGH')...

  <span class="hl-comment">// 3. Database Logic</span>
  db.run('INSERT INTO tasks...', [], (err) => {
     <span class="hl-comment">// 4. Response Logic</span>
     res.json(...)
  });
});</pre>
                </div>
                <div>
                    <div class="insight-box" style="background: rgba(239, 68, 68, 0.1); border-color: var(--danger);">
                        <div class="insight-title" style="color: var(--danger);"><i class="fas fa-bug"></i> Why is this bad?</div>
                        <ul style="font-size: 0.95rem; margin-top: 10px; list-style: none;">
                            <li style="margin-bottom: 10px;">‚ùå <strong>Hard to Maintain:</strong> ‡πÅ‡∏Å‡πâ SQL ‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏≠‡∏≤‡∏à‡∏û‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á API</li>
                            <li style="margin-bottom: 10px;">‚ùå <strong>Hard to Test:</strong> ‡∏à‡∏∞ Test Logic ‡∏¢‡∏±‡∏á‡πÑ‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠ Database ‡∏à‡∏£‡∏¥‡∏á?</li>
                            <li>‚ùå <strong>Spaghetti Code:</strong> ‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô ‡∏¢‡∏¥‡πà‡∏á‡∏û‡∏±‡∏ô‡∏Å‡∏±‡∏ô‡∏¢‡∏∏‡πà‡∏á‡πÄ‡∏´‡∏¢‡∏¥‡∏á</li>
                        </ul>
                    </div>
                    <div class="highlight-box">
                        <strong>üöÄ Next Step:</strong> ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á "Refactor" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ô Week 4
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üèõÔ∏è Week 4: Layered Architecture (Refactoring)</h2>
            [cite_start]<p><strong>Goal:</strong> ‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ <strong>Separation of Concerns</strong> [cite: 5]</p>
            
            <div class="grid-2">
                <div class="diagram-box" style="flex-direction: column;">
                    <div class="stack-container">
                        <div class="stack-layer" style="border-color: var(--primary);">
                            <i class="fas fa-globe"></i> Controller (Presentation)
                            <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 5px;">‡∏£‡∏±‡∏ö Request / ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Input / ‡∏™‡πà‡∏á JSON</div>
                        </div>
                        <div class="arrow-down">‚Üì</div>
                        <div class="stack-layer" style="border-color: var(--purple);">
                            <i class="fas fa-brain"></i> Service (Business Logic)
                            <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 5px;">‡∏Å‡∏é‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à / ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì / Flow ‡∏á‡∏≤‡∏ô</div>
                        </div>
                        <div class="arrow-down">‚Üì</div>
                        <div class="stack-layer" style="border-color: var(--success);">
                            <i class="fas fa-database"></i> Repository (Data Access)
                            <div style="font-size: 0.75rem; color: var(--text-muted); margin-top: 5px;">SQL Query / ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Database</div>
                        </div>
                    </div>
                </div>
                <div>
                    [cite_start]<h4>Lab Structure Change [cite: 2]</h4>
                    <pre>
/src
  ‚îú‚îÄ‚îÄ <span class="hl-string">controllers/</span>   <span class="hl-comment"># taskController.js</span>
  ‚îú‚îÄ‚îÄ <span class="hl-string">services/</span>      <span class="hl-comment"># taskService.js</span>
  ‚îú‚îÄ‚îÄ <span class="hl-string">repositories/</span>  <span class="hl-comment"># taskRepository.js</span>
  ‚îú‚îÄ‚îÄ <span class="hl-string">models/</span>        <span class="hl-comment"># Task.js</span>
  ‚îî‚îÄ‚îÄ <span class="hl-string">utils/</span>         <span class="hl-comment"># dbConnection.js</span>
server.js <span class="hl-comment"># (Clean entry point)</span></pre>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üõ†Ô∏è Week 4 Lab: The Refactoring Process</h2>
            <div class="grid-2">
                <div>
                    <div class="card">
                        <div style="display: flex; align-items: start; margin-bottom: 15px;">
                            <span class="step-badge">1</span>
                            <div>
                                <strong>Extract Repository</strong>
                                [cite_start]<p style="font-size: 0.9rem; color: var(--text-muted);">‡∏¢‡πâ‡∏≤‡∏¢ SQL ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å server.js ‡πÑ‡∏õ‡∏ó‡∏µ‡πà <code>repositories/taskRepository.js</code> [cite: 2]</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: start; margin-bottom: 15px;">
                            <span class="step-badge">2</span>
                            <div>
                                <strong>Build Service Layer</strong>
                                [cite_start]<p style="font-size: 0.9rem; color: var(--text-muted);">‡∏™‡∏£‡πâ‡∏≤‡∏á <code>services/taskService.js</code> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Logic ‡πÄ‡∏ä‡πà‡∏ô "‡∏ñ‡πâ‡∏≤ Task Priority = HIGH ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Description" ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ Repository [cite: 2]</p>
                            </div>
                        </div>
                        <div style="display: flex; align-items: start;">
                            <span class="step-badge">3</span>
                            <div>
                                <strong>Create Controller</strong>
                                [cite_start]<p style="font-size: 0.9rem; color: var(--text-muted);">‡∏™‡∏£‡πâ‡∏≤‡∏á <code>controllers/taskController.js</code> ‡∏£‡∏±‡∏ö req/res ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Service ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏™‡πà‡∏á response ‡∏Å‡∏•‡∏±‡∏ö [cite: 2]</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h4>Code Comparison (Controller)</h4>
                    <pre>
<span class="hl-comment">// taskController.js (Clean!)</span>
const taskService = require('../services');

exports.createTask = async (req, res, next) => {
  try {
    <span class="hl-comment">// Controller ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡∏•‡∏á DB ‡∏¢‡∏±‡∏á‡πÑ‡∏á</span>
    const data = await taskService.create(req.body);
    res.status(201).json(data);
  } catch (error) {
    next(error); <span class="hl-comment">// ‡∏™‡πà‡∏á Error ‡πÉ‡∏´‡πâ Middleware</span>
  }
};</pre>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üí° Week 4: Instructor's Insight</h2>
            <div class="grid-3">
                <div class="card" style="border-top: 4px solid var(--primary);">
                    <h3><i class="fas fa-vial"></i> Testability</h3>
                    <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å Layer ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ <strong>Unit Test</strong> ‡∏ó‡∏µ‡πà Service Layer ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£ Mock Repository (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠ DB ‡∏à‡∏£‡∏¥‡∏á)</p>
                </div>
                <div class="card" style="border-top: 4px solid var(--purple);">
                    <h3><i class="fas fa-users"></i> Teamwork</h3>
                    <p>Frontend Dev ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö Controller, Backend Dev ‡∏ó‡∏≥ Logic ‡∏ó‡∏µ‡πà Service, DBA ‡∏î‡∏π‡πÅ‡∏• Query ‡∏ó‡∏µ‡πà Repository ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏ô‡∏≤‡∏ô‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ</p>
                </div>
                <div class="card" style="border-top: 4px solid var(--warning);">
                    <h3><i class="fas fa-balance-scale"></i> Trade-off</h3>
                    <p>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏Ñ‡∏∑‡∏≠? <strong>Complexity</strong> ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô 5-6 ‡πÑ‡∏ü‡∏•‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏≠‡∏≤‡∏à‡∏î‡∏π Over-engineering ‡πÅ‡∏ï‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Enterprise</p>
                </div>
            </div>
            <div class="insight-box">
                <div class="insight-title">‚ùì Question for Class</div>
                <p>‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Database ‡∏à‡∏≤‡∏Å SQLite ‡πÄ‡∏õ‡πá‡∏ô MongoDB ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ Code ‡∏ó‡∏µ‡πà Layer ‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á? (Answer: ‡πÅ‡∏Ñ‡πà Repository Layer!)</p>
            </div>
        </div>

        <div class="slide">
            <h2>üñ•Ô∏è Week 5: Client-Server Architecture (Deployment)</h2>
            [cite_start]<p><strong>Goal:</strong> ‡∏Å‡πâ‡∏≤‡∏ß‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Localhost ‡∏™‡∏π‡πà‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° Production ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢ VM [cite: 5]</p>
            
            <div class="grid-2">
                <div class="diagram-box" style="gap: 30px;">
                    <div style="text-align: center;">
                        <i class="fas fa-laptop fa-4x" style="color: var(--text-main);"></i>
                        <div style="margin-top: 10px;">Host Machine</div>
                        <div style="font-size: 0.8rem; background: #334155; padding: 2px 8px; border-radius: 4px; display: inline-block;">Frontend UI</div>
                        <div style="color: var(--accent); font-size: 0.8rem; margin-top: 5px;">Browser</div>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; align-items: center; width: 100px;">
                        <div style="font-size: 0.75rem; color: var(--success);">HTTP / JSON</div>
                        <div style="height: 2px; width: 100%; background: var(--text-muted); position: relative;">
                            <i class="fas fa-network-wired" style="position: absolute; left: 50%; top: -8px; transform: translateX(-50%); background: #333; padding: 0 5px;"></i>
                        </div>
                        <div style="font-size: 0.75rem; color: var(--danger); margin-top: 5px;">Network (Bridged)</div>
                    </div>

                    <div style="text-align: center;">
                        <i class="fas fa-server fa-4x" style="color: var(--primary);"></i>
                        <div style="margin-top: 10px;">Virtual Machine</div>
                        <div style="font-size: 0.8rem; background: #334155; padding: 2px 8px; border-radius: 4px; display: inline-block;">Backend API</div>
                        <div style="color: var(--primary); font-size: 0.8rem; margin-top: 5px;">Ubuntu Server</div>
                    </div>
                </div>
                <div>
                    <div class="card">
                        [cite_start]<h4>New Tech Stack [cite: 3]</h4>
                        <ul style="list-style: none; margin-top: 10px;">
                            <li style="margin-bottom: 8px;"><i class="fas fa-cube text-primary"></i> <strong>VirtualBox:</strong> ‡∏à‡∏≥‡∏•‡∏≠‡∏á Hardware</li>
                            <li style="margin-bottom: 8px;"><i class="fab fa-linux text-warning"></i> <strong>Ubuntu Server 22.04:</strong> OS ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Server</li>
                            <li style="margin-bottom: 8px;"><i class="fas fa-tasks text-success"></i> <strong>PM2:</strong> Process Manager ‡πÉ‡∏´‡πâ Node.js ‡∏£‡∏±‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤</li>
                            <li><i class="fas fa-shield-alt text-danger"></i> <strong>UFW / CORS:</strong> Firewall & Security</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üõ†Ô∏è Week 5 Lab: Step-by-Step Deployment</h2>
            <div class="grid-3">
                <div class="card">
                    <h4 style="color: var(--primary);">1. Prepare VM</h4>
                    <p style="font-size: 0.85rem;">Install VirtualBox & Ubuntu Server. [cite_start]‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Network ‡πÄ‡∏õ‡πá‡∏ô <strong>Bridged Adapter</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ VM ‡πÑ‡∏î‡πâ IP ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏ß‡∏á LAN [cite: 3]</p>
                </div>
                <div class="card">
                    <h4 style="color: var(--purple);">2. Deploy Backend</h4>
                    <ul style="font-size: 0.85rem; list-style: none;">
                        <li>- SSH ‡πÄ‡∏Ç‡πâ‡∏≤ VM</li>
                        <li>- Install Node.js & Git</li>
                        <li>- Clone Code ‡∏à‡∏≤‡∏Å Week 4</li>
                        <li>- <code>npm install</code> & Setup DB</li>
                    </ul>
                </div>
                <div class="card">
                    <h4 style="color: var(--success);">3. Production Run</h4>
                    [cite_start]<p style="font-size: 0.85rem;">‡πÉ‡∏ä‡πâ <strong>PM2</strong> ‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô <code>pm2 start server.js</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ App ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô Background Service (‡∏õ‡∏¥‡∏î Terminal ‡πÑ‡∏î‡πâ) [cite: 3]</p>
                </div>
            </div>
            
            <div class="grid-2" style="margin-top: 20px;">
                <div class="insight-box" style="background: rgba(239, 68, 68, 0.1); border-color: var(--danger); margin-top: 0;">
                    <div class="insight-title" style="color: var(--danger);">‚ö†Ô∏è Critical Config: CORS</div>
                    <p style="font-size: 0.85rem;">Frontend (Host) ‡∏Å‡∏±‡∏ö Backend (VM) ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞ IP Browser ‡∏à‡∏∞ Block Request! ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ Backend:</p>
                    <pre style="margin-bottom: 0;">app.use(cors()); <span class="hl-comment">// Allow request from anywhere</span></pre>
                </div>
                <div class="insight-box" style="background: rgba(59, 130, 246, 0.1); border-color: var(--primary); margin-top: 0;">
                    <div class="insight-title" style="color: var(--primary);">üîó Frontend Config</div>
                    <p style="font-size: 0.85rem;">‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå Frontend JS ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Host ‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà IP ‡∏Ç‡∏≠‡∏á VM:</p>
                    <pre style="margin-bottom: 0;">const API_URL = 'http://192.168.1.XX:3000';</pre>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üí° Week 5: Instructor's Insight</h2>
            <div class="grid-2">
                <div>
                    <h3>Production Reality Checklist</h3>
                    <ul class="feature-list" style="margin-top: 15px;">
                        <li style="margin-bottom: 10px;"><strong>Network is unreliable:</strong> IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô? ‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏•‡∏∏‡∏î? ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Error Handling ‡∏ù‡∏±‡πà‡∏á Frontend</li>
                        <li style="margin-bottom: 10px;"><strong>Security:</strong> ‡πÄ‡∏õ‡∏¥‡∏î Port 3000 ‡πÉ‡∏´‡πâ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÑ‡∏´‡∏°? (Lab ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ Nginx Reverse Proxy)</li>
                        <li><strong>Environment Variables:</strong> ‡∏´‡πâ‡∏≤‡∏° Hardcode IP ‡∏´‡∏£‡∏∑‡∏≠ Password ‡πÉ‡∏ô Code ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ <code>.env</code></li>
                    </ul>
                </div>
                <div class="diagram-box">
                    <div style="text-align: center;">
                        <i class="fas fa-rocket fa-4x" style="color: var(--accent);"></i>
                        <h3 style="margin-top: 20px;">"It works on my machine"</h3>
                        <p>is not enough anymore.</p>
                        <p style="font-size: 0.9rem; color: var(--text-muted); margin-top: 10px;">Week 5 ‡∏™‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å Environment ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>üìä Architecture Comparison</h2>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                    <thead>
                        <tr style="border-bottom: 2px solid var(--text-muted);">
                            <th style="padding: 15px; text-align: left;">Aspect</th>
                            <th style="padding: 15px; text-align: left; color: var(--warning);">Week 3: Monolith</th>
                            <th style="padding: 15px; text-align: left; color: var(--purple);">Week 4: Layered</th>
                            <th style="padding: 15px; text-align: left; color: var(--accent);">Week 5: Client-Server</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 15px;"><strong>Files</strong></td>
                            <td>‡∏ô‡πâ‡∏≠‡∏¢ (server.js)</td>
                            <td>‡πÄ‡∏¢‡∏≠‡∏∞ (Controller, Service...)</td>
                            <td>‡πÅ‡∏¢‡∏Å Project (Front/Back)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 15px;"><strong>Coupling</strong></td>
                            <td>High (‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô‡∏´‡∏°‡∏î)</td>
                            <td>Medium (‡πÅ‡∏¢‡∏Å Logic)</td>
                            <td>Low (‡πÅ‡∏¢‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <td style="padding: 15px;"><strong>Deploy</strong></td>
                            <td>‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å (Copy run)</td>
                            <td>‡∏á‡πà‡∏≤‡∏¢</td>
                            <td>‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô (Network/VM)</td>
                        </tr>
                        <tr>
                            <td style="padding: 15px;"><strong>Suitable for</strong></td>
                            <td>MVP / Prototype</td>
                            <td>Enterprise App</td>
                            <td>Scalable Web App</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="slide">
            <div style="text-align: center; max-width: 800px; margin: 0 auto;">
                <h1>Ready for the Journey?</h1>
                <p style="font-size: 1.5rem; color: var(--text-muted); margin-bottom: 40px;">
                    "Architecture ‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Architecture ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î<br>‡πÅ‡∏ï‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏á‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î"
                </p>
                
                <div class="grid-3">
                    <div class="card" onclick="goToSlide(2)" style="cursor: pointer;">
                        <h3>Week 3 Lab</h3>
                        <p>Start Here</p>
                    </div>
                    <div class="card" onclick="goToSlide(4)" style="cursor: pointer;">
                        <h3>Week 4 Lab</h3>
                        <p>Refactor Code</p>
                    </div>
                    <div class="card" onclick="goToSlide(7)" style="cursor: pointer;">
                        <h3>Week 5 Lab</h3>
                        <p>Deploy VM</p>
                    </div>
                </div>

                <div style="margin-top: 50px; opacity: 0.6; font-size: 0.9rem;">
                    ENGSE207 Software Architecture | Department of Software Engineering
                </div>
            </div>
        </div>

    </div>

    <div class="controls">
        <button class="btn-nav" onclick="prevSlide()"><i class="fas fa-chevron-left"></i></button>
        <button class="btn-nav" onclick="nextSlide()"><i class="fas fa-chevron-right"></i></button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const progressBar = document.getElementById('progressBar');
        const slideCounter = document.getElementById('slideCounter');

        function updateSlide() {
            slides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === currentSlide) {
                    slide.classList.add('active');
                }
            });
            
            // Update Progress
            const progress = ((currentSlide + 1) / slides.length) * 100;
            progressBar.style.width = `${progress}%`;
            slideCounter.textContent = `${String(currentSlide + 1).padStart(2, '0')} / ${String(slides.length).padStart(2, '0')}`;
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                updateSlide();
            }
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlide();
        }

        // Keyboard Navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') nextSlide();
            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') prevSlide();
        });

        // Initialize
        updateSlide();
    </script>
</body>
</html>