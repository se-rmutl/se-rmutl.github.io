<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏´‡∏Å‡∏¥‡∏à - Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ‡πÉ‡∏ä‡πâ Google Font ‡πÉ‡∏´‡πâ‡∏î‡∏π modern ‡∏´‡∏ô‡πà‡∏≠‡∏¢ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --bg: #0f172a;
      --bg-card: #111827;
      --bg-soft: #020617;
      --primary: #38bdf8;
      --primary-soft: rgba(56, 189, 248, 0.1);
      --accent: #a855f7;
      --success: #22c55e;
      --warning: #eab308;
      --danger: #ef4444;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --border-subtle: #1f2937;
      --shadow-soft: 0 20px 40px rgba(15, 23, 42, 0.6);
      --radius-xl: 18px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: "Prompt", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 45%, #020617 100%);
      color: var(--text-main);
      min-height: 100vh;
    }

    .app {
      max-width: 1280px;
      margin: 0 auto;
      padding: 20px 16px 32px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 18px;
    }

    .title-block h1 {
      margin: 0;
      font-size: 1.6rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .title-chip {
      font-size: 0.8rem;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: var(--text-muted);
    }

    .title-sub {
      margin-top: 4px;
      font-size: 0.86rem;
      color: var(--text-muted);
    }

    .toolbar {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.85rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      background: rgba(15, 23, 42, 0.8);
      color: var(--text-main);
      border: 1px solid var(--border-subtle);
      transition: all 0.15s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, #0ea5e9, #22c55e);
      border-color: transparent;
      box-shadow: 0 0 30px rgba(56, 189, 248, 0.35);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.7);
    }

    .btn-icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }

    /* Layout */
    .layout {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(330px, 1.2fr);
      gap: 18px;
    }

    @media (max-width: 960px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.96));
      border-radius: var(--radius-xl);
      padding: 16px 16px 14px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.25);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.12), transparent 55%);
      mix-blend-mode: screen;
      opacity: 0.7;
      pointer-events: none;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }

    .card-title {
      font-size: 0.96rem;
      font-weight: 600;
    }

    .card-subtitle {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 2px;
    }

    /* Stat cards */
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
      margin-bottom: 14px;
    }

    @media (max-width: 960px) {
      .stat-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .stat-card {
      background: radial-gradient(circle at top, rgba(148, 163, 184, 0.1), rgba(15, 23, 42, 0.95));
      border-radius: 15px;
      padding: 10px 11px;
      border: 1px solid rgba(55, 65, 81, 0.8);
      position: relative;
      overflow: hidden;
    }

    .stat-label {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .stat-value-row {
      display: flex;
      align-items: baseline;
      gap: 6px;
    }

    .stat-value {
      font-size: 1.4rem;
      font-weight: 600;
    }

    .stat-tag {
      font-size: 0.7rem;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: var(--text-muted);
    }

    .badge-green {
      border-color: rgba(34, 197, 94, 0.6);
      color: #bbf7d0;
    }

    .badge-amber {
      border-color: rgba(234, 179, 8, 0.7);
      color: #fef3c7;
    }

    .badge-sky {
      border-color: rgba(56, 189, 248, 0.7);
      color: #e0f2fe;
    }

    /* Filters row */
    .filters-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
      position: relative;
      z-index: 1;
    }

    .filters-left,
    .filters-right {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .field-inline {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .field-inline label {
      white-space: nowrap;
    }

    .input, .select {
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      padding: 6px 10px;
      font-size: 0.82rem;
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      min-width: 120px;
      outline: none;
    }

    .input::placeholder {
      color: #6b7280;
    }

    .input:focus,
    .select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5);
    }

    /* Table */
    .table-wrapper {
      position: relative;
      border-radius: 16px;
      border: 1px solid var(--border-subtle);
      overflow: hidden;
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.06), rgba(15, 23, 42, 0.98));
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.78rem;
    }

    thead {
      background: rgba(15, 23, 42, 0.92);
    }

    th, td {
      padding: 8px 10px;
      text-align: left;
      white-space: nowrap;
    }

    th {
      font-weight: 500;
      color: var(--text-muted);
      border-bottom: 1px solid var(--border-subtle);
      font-size: 0.76rem;
    }

    tbody tr {
      cursor: pointer;
      transition: background 0.12s ease;
    }

    tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.5);
    }

    tbody tr:nth-child(odd) {
      background: rgba(15, 23, 42, 0.85);
    }

    tbody tr:hover {
      background: rgba(56, 189, 248, 0.18);
    }

    tbody tr.selected {
      background: rgba(56, 189, 248, 0.26);
    }

    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 0.72rem;
      font-weight: 500;
    }

    .status-not-planned {
      background: rgba(249, 115, 22, 0.15);
      color: #fed7aa;
      border: 1px solid rgba(249, 115, 22, 0.6);
    }

    .status-scheduled {
      background: rgba(56, 189, 248, 0.16);
      color: #e0f2fe;
      border: 1px solid rgba(56, 189, 248, 0.8);
    }

    .status-done {
      background: rgba(34, 197, 94, 0.16);
      color: #bbf7d0;
      border: 1px solid rgba(34, 197, 94, 0.8);
    }

    .dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: currentColor;
    }

    /* Right column: form */
    .form-card {
      min-height: 320px;
    }

    .form-section-title {
      font-size: 0.86rem;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 10px;
    }

    @media (max-width: 960px) {
      .form-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 0.78rem;
    }

    .field label {
      color: var(--text-muted);
    }

    .field input,
    .field select,
    .field textarea {
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      padding: 6px 8px;
      font-size: 0.8rem;
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      resize: vertical;
      min-height: 32px;
      outline: none;
    }

    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.4);
    }

    .field-row-2 {
      grid-column: span 2;
    }

    .form-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 10px;
    }

    .chip-question {
      margin-top: 6px;
      font-size: 0.76rem;
      padding: 6px 9px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.7);
      color: var(--text-muted);
    }

    .chip-question strong {
      color: var(--primary);
    }

    /* Upcoming visits */
    .upcoming-list {
      list-style: none;
      margin: 4px 0 0;
      padding: 0;
      max-height: 150px;
      overflow-y: auto;
    }

    .upcoming-item {
      padding: 6px 0;
      border-top: 1px dashed rgba(51, 65, 85, 0.8);
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 0.78rem;
    }

    .upcoming-item:first-child {
      border-top: none;
    }

    .upcoming-main {
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }

    .upcoming-main span {
      white-space: nowrap;
    }

    .upcoming-meta {
      font-size: 0.72rem;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 16px;
      right: 16px;
      background: rgba(15, 23, 42, 0.96);
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.82rem;
      border: 1px solid rgba(34, 197, 94, 0.8);
      color: #bbf7d0;
      box-shadow: 0 15px 40px rgba(15, 23, 42, 0.8);
      opacity: 0;
      pointer-events: none;
      transform: translateY(8px);
      transition: all 0.2s ease;
      z-index: 50;
    }

    .toast.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title-block">
        <h1>
          üß≠ ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏´‡∏Å‡∏¥‡∏à
          <span class="title-chip">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2 / 2568</span>
        </h1>
        <div class="title-sub">
          ‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏´‡∏Å‡∏¥‡∏à & ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
        </div>
      </div>
      <div class="toolbar">
        <button class="btn">
          <span class="btn-icon">üìÑ</span>
          Export ‡πÅ‡∏ú‡∏ô (Mock)
        </button>
        <button class="btn btn-primary" id="btnNewPlan">
          <span class="btn-icon">Ôºã</span>
          ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡πÉ‡∏´‡∏°‡πà
        </button>
      </div>
    </header>

    <div class="layout">
      <!-- LEFT: dashboard + table -->
      <section>
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏´‡∏Å‡∏¥‡∏à</div>
              <div class="card-subtitle">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏® | ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö UI ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° backend ‡∏à‡∏£‡∏¥‡∏á</div>
            </div>
          </div>

          <!-- Stats -->
          <div class="stat-grid">
            <div class="stat-card">
              <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
              <div class="stat-value-row">
                <div class="stat-value" id="totalStudents">-</div>
                <span class="stat-tag badge-sky">‡∏ó‡∏∏‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-label">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</div>
              <div class="stat-value-row">
                <div class="stat-value" id="notPlannedCount">-</div>
                <span class="stat-tag badge-amber">‡∏Ñ‡∏ß‡∏£‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-label">‡∏£‡∏≠‡∏ô‡∏¥‡πÄ‡∏ó‡∏® / ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</div>
              <div class="stat-value-row">
                <div class="stat-value" id="scheduledCount">-</div>
                <span class="stat-tag badge-sky">‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-label">‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏™‡∏£‡πá‡∏à</div>
              <div class="stat-value-row">
                <div class="stat-value" id="completedCount">-</div>
                <span class="stat-tag badge-green">‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</span>
              </div>
            </div>
          </div>

          <!-- Filters & upcoming -->
          <div class="filters-row">
            <div class="filters-left">
              <div class="field-inline">
                <label for="searchInput">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</label>
                <input id="searchInput" class="input" type="text"
                       placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ / ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó">
              </div>
              <div class="field-inline">
                <label for="statusFilter">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                <select id="statusFilter" class="select">
                  <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                  <option value="not_planned">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</option>
                  <option value="scheduled">‡∏£‡∏≠‡∏ô‡∏¥‡πÄ‡∏ó‡∏® / ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</option>
                  <option value="done">‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡πâ‡∏ß</option>
                </select>
              </div>
            </div>
            <div class="filters-right">
              <span class="card-subtitle">
                ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <strong id="upcomingCount">0</strong> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
              </span>
            </div>
          </div>

          <!-- Table -->
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>‡∏£‡∏´‡∏±‡∏™ ‡∏ô‡∏®.</th>
                  <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</th>
                  <th>‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó / ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</th>
                  <th>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</th>
                  <th>‡∏£‡∏≠‡∏ö‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</th>
                  <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</th>
                  <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                </tr>
              </thead>
              <tbody id="internshipsTableBody">
                <!-- rows from JS -->
              </tbody>
            </table>
          </div>

          <!-- Upcoming visits list -->
          <ul class="upcoming-list" id="upcomingList">
            <!-- items from JS -->
          </ul>
        </div>
      </section>

      <!-- RIGHT: form -->
      <section>
        <div class="card form-card">
          <div class="card-header">
            <div>
              <div class="card-title" id="formTitle">‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</div>
              <div class="card-subtitle">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ñ‡∏ß‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
            </div>
          </div>

          <div class="form-section-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ / ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</div>
          <div class="form-grid">
            <div class="field">
              <label for="formStudentId">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
              <input id="formStudentId" type="text" placeholder="6500xxx">
            </div>
            <div class="field">
              <label for="formStudentName">‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
              <input id="formStudentName" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
            </div>
            <div class="field">
              <label for="formCompany">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó / ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</label>
              <input id="formCompany" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó">
            </div>
            <div class="field">
              <label for="formProvince">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î (‡∏ó‡∏µ‡πà‡πÑ‡∏õ‡∏ô‡∏¥‡πÄ‡∏ó‡∏®)</label>
              <input id="formProvince" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà, ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø">
            </div>
            <div class="field">
              <label for="formPhone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
              <input id="formPhone" type="text" placeholder="0x-xxx-xxxx">
            </div>
            <div class="field">
              <label for="formAdvisor">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</label>
              <input id="formAdvisor" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå">
            </div>
          </div>

          <div class="form-section-title" style="margin-top:10px;">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</div>
          <div class="form-grid">
            <div class="field">
              <label for="formVisitRound">‡∏£‡∏≠‡∏ö‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</label>
              <select id="formVisitRound">
                <option value="1">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 1</option>
                <option value="2">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 2</option>
                <option value="3">‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 3</option>
              </select>
            </div>
            <div class="field">
              <label for="formStatus">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ú‡∏ô</label>
              <select id="formStatus">
                <option value="not_planned">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô</option>
                <option value="scheduled">‡∏£‡∏≠‡∏ô‡∏¥‡πÄ‡∏ó‡∏® / ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</option>
                <option value="done">‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡πâ‡∏ß</option>
              </select>
            </div>
            <div class="field">
              <label for="formVisitDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</label>
              <input id="formVisitDate" type="date">
            </div>
            <div class="field">
              <label for="formVisitTime">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</label>
              <input id="formVisitTime" type="time">
            </div>
            <div class="field field-row-2">
              <label for="formMapLink">‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (Google Maps / GPS)</label>
              <input id="formMapLink" type="text" placeholder="‡∏ß‡∏≤‡∏á URL ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà">
            </div>
            <div class="field field-row-2">
              <label for="formNotes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏/‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
              <textarea id="formNotes" rows="3"
                        placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏ù‡πà‡∏≤‡∏¢ HR, ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏ö, ‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î‡∏£‡∏ñ ‡∏Ø‡∏•‡∏Ø"></textarea>
            </div>
          </div>

          <div class="chip-question">
            <strong>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏ô:</strong>
            ‡∏ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡∏¥‡πÄ‡∏ó‡∏® 10 ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô 2 ‡∏ß‡∏±‡∏ô ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?
          </div>

          <div class="form-footer">
            <button class="btn" id="btnClearForm">
              ‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
            </button>
            <button class="btn btn-primary" id="btnSavePlan">
              <span class="btn-icon">üíæ</span>
              ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô (Mock)
            </button>
          </div>
        </div>
      </section>
    </div>
  </div>

  <div class="toast" id="toast">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (mock ‡πÉ‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥)</div>

  <script>
    // -----------------------------
    // Mock data: ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏™‡∏´‡∏Å‡∏¥‡∏à
    // -----------------------------
    let internships = [
      {
        studentId: "650001",
        studentName: "‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ",
        phone: "08x-111-1111",
        company: "ABC Software Co., Ltd.",
        province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
        advisor: "‡∏≠. ‡∏ò‡∏ô‡∏¥‡∏ï",
        status: "scheduled", // not_planned | scheduled | done
        visitRound: 1,
        visitDateTime: "2026-02-10T10:00",
        mapLink: "https://maps.google.com",
        notes: "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ HR ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏£ ‡πÇ‡∏ó‡∏£ 0x-xxx-xxxx"
      },
      {
        studentId: "650002",
        studentName: "‡∏Å‡∏°‡∏•‡∏ó‡∏¥‡∏û‡∏¢‡πå ‡πÅ‡∏™‡∏á‡∏ó‡∏≠‡∏á",
        phone: "08x-222-2222",
        company: "Smart Logistics (Thailand)",
        province: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£",
        advisor: "‡∏≠. ‡∏ò‡∏ô‡∏¥‡∏ï",
        status: "not_planned",
        visitRound: 1,
        visitDateTime: "",
        mapLink: "",
        notes: ""
      },
      {
        studentId: "650003",
        studentName: "‡∏õ‡∏ß‡∏µ‡∏ì‡∏≤ ‡∏Ñ‡∏≥‡∏î‡∏µ",
        phone: "08x-333-3333",
        company: "‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠",
        province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢",
        advisor: "‡∏≠. ‡∏≠‡∏†‡∏¥‡∏ä‡∏≤‡∏ï‡∏¥",
        status: "scheduled",
        visitRound: 1,
        visitDateTime: "2026-02-08T14:00",
        mapLink: "",
        notes: "‡∏ô‡∏±‡∏î‡∏Å‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÅ‡∏ú‡∏ô‡∏Å IT"
      },
      {
        studentId: "650004",
        studentName: "‡∏ì‡∏±‡∏ê‡∏ß‡∏∏‡∏í‡∏¥ ‡∏°‡∏µ‡∏™‡∏∏‡∏Ç",
        phone: "08x-444-4444",
        company: "FinTech Labs Co., Ltd.",
        province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
        advisor: "‡∏≠. ‡∏ò‡∏ô‡∏¥‡∏ï",
        status: "done",
        visitRound: 1,
        visitDateTime: "2026-01-25T09:30",
        mapLink: "",
        notes: "‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡∏£‡∏≠‡∏ö‡πÅ‡∏£‡∏Å‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô"
      },
      {
        studentId: "650005",
        studentName: "‡∏ß‡∏£‡∏±‡∏ç‡∏ç‡∏≤ ‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡πå‡∏î‡∏µ",
        phone: "08x-555-5555",
        company: "Auto Industrial Systems",
        province: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
        advisor: "‡∏≠. ‡∏≠‡∏†‡∏¥‡∏ä‡∏≤‡∏ï‡∏¥",
        status: "not_planned",
        visitRound: 1,
        visitDateTime: "",
        mapLink: "",
        notes: ""
      }
    ];

    let selectedStudentId = null;

    // -----------------------------
    // Helper functions
    // -----------------------------
    function formatDateTime(dt) {
      if (!dt) return "-";
      const d = new Date(dt);
      if (isNaN(d.getTime())) return "-";
      const day = String(d.getDate()).padStart(2, "0");
      const month = String(d.getMonth() + 1).padStart(2, "0");
      const year = d.getFullYear() + 543; // ‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡∏£‡πà‡∏≤‡∏ß ‡πÜ ‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®.
      const hour = String(d.getHours()).padStart(2, "0");
      const min = String(d.getMinutes()).padStart(2, "0");
      return `${day}/${month}/${year} ${hour}:${min} ‡∏ô.`;
    }

    function statusLabel(status) {
      switch (status) {
        case "not_planned": return "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô";
        case "scheduled": return "‡∏£‡∏≠‡∏ô‡∏¥‡πÄ‡∏ó‡∏® / ‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß";
        case "done": return "‡∏ô‡∏¥‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡πâ‡∏ß";
        default: return status;
      }
    }

    function statusClass(status) {
      switch (status) {
        case "not_planned": return "status-not-planned";
        case "scheduled": return "status-scheduled";
        case "done": return "status-done";
        default: return "";
      }
    }

    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.classList.add("show");
      setTimeout(() => {
        toast.classList.remove("show");
      }, 2200);
    }

    // -----------------------------
    // Render functions
    // -----------------------------
    function renderDashboard() {
      const total = internships.length;
      const notPlanned = internships.filter(x => x.status === "not_planned").length;
      const scheduled = internships.filter(x => x.status === "scheduled").length;
      const done = internships.filter(x => x.status === "done").length;

      document.getElementById("totalStudents").textContent = total;
      document.getElementById("notPlannedCount").textContent = notPlanned;
      document.getElementById("scheduledCount").textContent = scheduled;
      document.getElementById("completedCount").textContent = done;
    }

    function getFilteredInternships() {
      const search = document.getElementById("searchInput").value.trim().toLowerCase();
      const statusFilter = document.getElementById("statusFilter").value;

      return internships.filter(item => {
        const keyword =
          (item.studentName + " " + item.company + " " + item.studentId).toLowerCase();
        const matchesSearch = keyword.includes(search);
        const matchesStatus = statusFilter === "all" ? true : item.status === statusFilter;
        return matchesSearch && matchesStatus;
      });
    }

    function renderTable() {
      const tbody = document.getElementById("internshipsTableBody");
      tbody.innerHTML = "";

      const rows = getFilteredInternships();
      rows.forEach(item => {
        const tr = document.createElement("tr");
        tr.dataset.studentId = item.studentId;

        if (item.studentId === selectedStudentId) {
          tr.classList.add("selected");
        }

        tr.innerHTML = `
          <td>${item.studentId}</td>
          <td>${item.studentName}</td>
          <td>${item.company}</td>
          <td>${item.province || "-"}</td>
          <td>‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà ${item.visitRound || "-"}</td>
          <td>${formatDateTime(item.visitDateTime)}</td>
          <td>
            <span class="status-pill ${statusClass(item.status)}">
              <span class="dot"></span>
              ${statusLabel(item.status)}
            </span>
          </td>
        `;

        tr.addEventListener("click", () => {
          selectedStudentId = item.studentId;
          fillFormWithItem(item);
          renderTable(); // ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ñ‡∏ß selected
        });

        tbody.appendChild(tr);
      });
    }

    function renderUpcoming() {
      const list = document.getElementById("upcomingList");
      list.innerHTML = "";

      const upcoming = internships
        .filter(x => x.status === "scheduled" && x.visitDateTime)
        .slice() // clone
        .sort((a, b) => {
          const da = new Date(a.visitDateTime).getTime();
          const db = new Date(b.visitDateTime).getTime();
          return da - db;
        })
        .slice(0, 5);

      document.getElementById("upcomingCount").textContent = upcoming.length;

      upcoming.forEach(item => {
        const li = document.createElement("li");
        li.className = "upcoming-item";
        li.innerHTML = `
          <div class="upcoming-main">
            <span>${item.studentName}</span>
            <span>${formatDateTime(item.visitDateTime)}</span>
          </div>
          <div class="upcoming-meta">
            <span>${item.company}</span>
            <span>${item.province || ""}</span>
          </div>
        `;
        list.appendChild(li);
      });
    }

    function fillFormWithItem(item) {
      document.getElementById("formTitle").textContent =
        `‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®: ${item.studentName}`;
      document.getElementById("formStudentId").value = item.studentId || "";
      document.getElementById("formStudentName").value = item.studentName || "";
      document.getElementById("formCompany").value = item.company || "";
      document.getElementById("formProvince").value = item.province || "";
      document.getElementById("formPhone").value = item.phone || "";
      document.getElementById("formAdvisor").value = item.advisor || "";
      document.getElementById("formVisitRound").value = item.visitRound || "1";
      document.getElementById("formStatus").value = item.status || "not_planned";
      document.getElementById("formMapLink").value = item.mapLink || "";
      document.getElementById("formNotes").value = item.notes || "";

      if (item.visitDateTime) {
        const d = new Date(item.visitDateTime);
        if (!isNaN(d.getTime())) {
          const dateStr = d.toISOString().slice(0, 10);
          const timeStr = d.toTimeString().slice(0, 5);
          document.getElementById("formVisitDate").value = dateStr;
          document.getElementById("formVisitTime").value = timeStr;
        }
      } else {
        document.getElementById("formVisitDate").value = "";
        document.getElementById("formVisitTime").value = "";
      }
    }

    function clearForm() {
      selectedStudentId = null;
      document.getElementById("formTitle").textContent = "‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡πÄ‡∏ó‡∏®";
      document.getElementById("formStudentId").value = "";
      document.getElementById("formStudentName").value = "";
      document.getElementById("formCompany").value = "";
      document.getElementById("formProvince").value = "";
      document.getElementById("formPhone").value = "";
      document.getElementById("formAdvisor").value = "";
      document.getElementById("formVisitRound").value = "1";
      document.getElementById("formStatus").value = "not_planned";
      document.getElementById("formVisitDate").value = "";
      document.getElementById("formVisitTime").value = "";
      document.getElementById("formMapLink").value = "";
      document.getElementById("formNotes").value = "";
      renderTable();
    }

    function handleSavePlan() {
      const studentId = document.getElementById("formStudentId").value.trim();
      if (!studentId) {
        showToast("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô");
        return;
      }

      const existingIndex = internships.findIndex(x => x.studentId === studentId);

      const date = document.getElementById("formVisitDate").value;
      const time = document.getElementById("formVisitTime").value;
      let visitDateTime = "";
      if (date && time) {
        visitDateTime = `${date}T${time}`;
      }

      const item = {
        studentId,
        studentName: document.getElementById("formStudentName").value.trim(),
        company: document.getElementById("formCompany").value.trim(),
        province: document.getElementById("formProvince").value.trim(),
        phone: document.getElementById("formPhone").value.trim(),
        advisor: document.getElementById("formAdvisor").value.trim(),
        visitRound: Number(document.getElementById("formVisitRound").value || 1),
        status: document.getElementById("formStatus").value,
        visitDateTime,
        mapLink: document.getElementById("formMapLink").value.trim(),
        notes: document.getElementById("formNotes").value.trim()
      };

      if (existingIndex !== -1) {
        internships[existingIndex] = item;
      } else {
        internships.push(item);
      }

      selectedStudentId = studentId;
      renderDashboard();
      renderTable();
      renderUpcoming();
      showToast("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á)");
    }

    // -----------------------------
    // Init
    // -----------------------------
    document.addEventListener("DOMContentLoaded", () => {
      // Initial render
      renderDashboard();
      renderTable();
      renderUpcoming();

      // Event listeners
      document.getElementById("searchInput").addEventListener("input", () => {
        renderTable();
      });

      document.getElementById("statusFilter").addEventListener("change", () => {
        renderTable();
      });

      document.getElementById("btnSavePlan").addEventListener("click", (e) => {
        e.preventDefault();
        handleSavePlan();
      });

      document.getElementById("btnClearForm").addEventListener("click", (e) => {
        e.preventDefault();
        clearForm();
      });

      document.getElementById("btnNewPlan").addEventListener("click", (e) => {
        e.preventDefault();
        clearForm();
      });
    });
  </script>
</body>
</html>
