<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab: Advanced React & State Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Sarabun', sans-serif; }
        .code-block {
            background-color: #1a202c; color: #e2e8f0; padding: 1.25rem;
            border-radius: 0.75rem; overflow-x: auto;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 0.9em; line-height: 1.6;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .lab-section {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .challenge-box {
            background-color: #fffbeb; /* amber-50 */
            border-left: 4px solid #f59e0b; /* amber-500 */
            padding: 1rem;
            margin-top: 1.5rem;
            border-radius: 0.25rem;
        }
        .hint-box {
            background-color: #f0f9ff; /* sky-50 */
            border-left: 4px solid #38bdf8; /* sky-400 */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.25rem;
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="bg-white shadow-sm p-4 sticky top-0 z-20">
        <div class="container mx-auto">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-900">Lab: Advanced React & State Management</h1>
            <p class="text-lg text-blue-600 font-medium">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà 6 | ENGSE203</p>
        </div>
    </header>

    <div class="container mx-auto p-4 mt-4">

        <!-- Project Setup -->
        <div class="lab-section">
            <h2 class="text-3xl font-bold mb-4 border-b pb-2">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ (Vite + React)</h2>
            <p class="mb-4 text-lg">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ React ‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢ Vite ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏î‡∏µ</p>
            <pre class="code-block"># 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
npm create vite@latest react-lab-w6 -- --template react

# 2. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
cd react-lab-w6

# 3. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
npm install
npm install react-router-dom @reduxjs/toolkit react-redux

# 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
mkdir -p src/components src/hooks src/features src/pages

# 5. ‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
npm run dev</pre>
            <p class="mt-4">‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÅ‡∏•‡∏∞‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô "‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô"</p>
        </div>

        <!-- Custom Hooks -->
        <div class="lab-section">
            <h2 class="text-3xl font-bold mb-4">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1: Custom Hooks</h2>
            <h3 class="text-xl font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</h3>
            <p>‡∏™‡∏£‡πâ‡∏≤‡∏á Custom Hook ‡∏ä‡∏∑‡πà‡∏≠ <code>useLocalStorage</code> ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô <code>useState</code> ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÉ‡∏ô Local Storage ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</h3>
            <pre class="code-block">// src/hooks/useLocalStorage.js
import { useState, useEffect } from 'react';

export function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(() => {
    const storedValue = localStorage.getItem(key);
    return storedValue !== null ? JSON.parse(storedValue) : initialValue;
  });

  useEffect(() => {
    // BUG: ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ value ‡πÄ‡∏õ‡πá‡∏ô undefined
    localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);

  return [value, setValue];
}

// src/components/NameSaver.jsx
import { useLocalStorage } from '../hooks/useLocalStorage';

export function NameSaver() {
  const [name, setName] = useLocalStorage('username', '');

  return (
    &lt;div&gt;
      &lt;input 
        className="border p-2 rounded"
        value={name} 
        onChange={e => setName(e.target.value)}
        placeholder="Enter your name"
      /&gt;
      &lt;h2&gt;Hello, {name || 'Guest'}!&lt;/h2&gt;
      &lt;p&gt;(‡∏•‡∏≠‡∏á‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏î‡∏π‡∏™‡∏¥!)</p&gt;
    &lt;/div&gt;
  );
}</pre>
            <div class="challenge-box">
                <p class="font-bold">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô üéØ</p>
                <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏•‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô input ‡∏à‡∏ô‡∏´‡∏°‡∏î (‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô string ‡∏ß‡πà‡∏≤‡∏á) ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤, ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô state ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô <code>undefined</code> ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î error. ‡∏à‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç <code>useEffect</code> ‡πÉ‡∏ô <code>useLocalStorage</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏ì‡∏µ‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÇ‡∏î‡∏¢‡∏ñ‡πâ‡∏≤ <code>value</code> ‡πÄ‡∏õ‡πá‡∏ô <code>undefined</code> ‡πÉ‡∏´‡πâ‡∏•‡∏ö item ‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Local Storage ‡πÅ‡∏ó‡∏ô</p>
                <button class="mt-2 text-sm text-blue-600 font-semibold" onclick="toggleAnswer(this)">‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</button>
                <div class="hint-box"><p><b>‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:</b> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç `if (value !== undefined)` ‡∏Å‡πà‡∏≠‡∏ô `localStorage.setItem` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° `else` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `localStorage.removeItem(key)`</p></div>
            </div>
        </div>

        <!-- Context API -->
        <div class="lab-section">
            <h2 class="text-3xl font-bold mb-4">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 2: Context API</h2>
            <h3 class="text-xl font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</h3>
            <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö User Authentication ‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Context API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà login ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ó‡∏∏‡∏Å Component ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ Prop Drilling</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</h3>
            <pre class="code-block">// src/contexts/AuthContext.jsx
import { createContext, useState, useContext } from 'react';

const AuthContext = createContext(null);

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null); // null means logged out

  const login = (username) => setUser({ name: username });
  const logout = () => setUser(null);

  // BUG: value ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏á‡πÑ‡∏õ‡πÉ‡∏ô Provider ‡∏Ç‡∏≤‡∏î‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
  const value = { user };

  return &lt;AuthContext.Provider value={value}&gt;{children}&lt;/AuthContext.Provider&gt;;
}

export const useAuth = () => useContext(AuthContext);

// src/components/LoginComponent.jsx
import { useAuth } from '../contexts/AuthContext';

export function LoginComponent() {
  const { user, login, logout } = useAuth();

  if (user) {
    return &lt;div&gt;Welcome, {user.name}! &lt;button onClick={logout}&gt;Logout&lt;/button&gt;&lt;/div&gt;;
  }
  return &lt;button onClick={() => login('Somsak')}&gt;Login&lt;/button&gt;;
}</pre>
            <div class="challenge-box">
                <p class="font-bold">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô üéØ</p>
                <p>‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î error ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ <code>LoginComponent</code> ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ <code>login</code> ‡πÅ‡∏•‡∏∞ <code>logout</code> ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô context. ‡∏à‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç <code>value</code> ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏à‡∏≤‡∏Å <code>AuthProvider</code> ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô <code>login</code> ‡πÅ‡∏•‡∏∞ <code>logout</code> ‡∏£‡∏ß‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢</p>
                <button class="mt-2 text-sm text-blue-600 font-semibold" onclick="toggleAnswer(this)">‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</button>
                <div class="hint-box"><p><b>‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:</b> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î `const value = { user };` ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô `const value = { user, login, logout };`</p></div>
            </div>
        </div>
        
        <!-- Redux Toolkit -->
        <div class="lab-section">
            <h2 class="text-3xl font-bold mb-4">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 3: Redux Toolkit</h2>
            <h3 class="text-xl font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</h3>
            <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Shopping Cart) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Redux Toolkit ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state ‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</h3>
            <pre class="code-block">// src/features/cart/cartSlice.js
import { createSlice } from '@reduxjs/toolkit';

const initialState = { items: [], totalQuantity: 0 };

const cartSlice = createSlice({
  name: 'cart',
  initialState,
  reducers: {
    addItem(state, action) {
      const newItem = action.payload;
      const existingItem = state.items.find(item => item.id === newItem.id);
      state.totalQuantity++;
      if (!existingItem) {
        state.items.push({ ...newItem, quantity: 1 });
      } else {
        existingItem.quantity++;
      }
    },
    // BUG: reducer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö removeItem ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
  }
});
export const { addItem } = cartSlice.actions;
export default cartSlice.reducer;

// src/components/ShoppingCart.jsx
import { useSelector, useDispatch } from 'react-redux';
import { addItem } from '../features/cart/cartSlice';

export function ShoppingCart() {
  const totalQuantity = useSelector(state => state.cart.totalQuantity);
  const dispatch = useDispatch();

  const handleAddItem = () => {
    dispatch(addItem({ id: 'p1', name: 'Laptop' }));
  };

  return (
    &lt;div&gt;
      &lt;h2&gt;Cart Items: {totalQuantity}&lt;/h2&gt;
      &lt;button onClick={handleAddItem}&gt;Add Laptop&lt;/button&gt;
      &lt;button&gt;Remove Laptop (Not working)&lt;/button&gt;
    &lt;/div&gt;
  );
}</pre>
            <div class="challenge-box">
                <p class="font-bold">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô üéØ</p>
                <p>‡∏õ‡∏∏‡πà‡∏° "Remove Laptop" ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ. ‡∏à‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° reducer ‡πÉ‡∏´‡∏°‡πà‡∏ä‡∏∑‡πà‡∏≠ <code>removeItem</code> ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô <code>cartSlice</code> ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö <code>action.payload</code> ‡πÄ‡∏õ‡πá‡∏ô <code>id</code> ‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏•‡∏î <code>totalQuantity</code> ‡∏•‡∏á (‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏° export action ‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢!)</p>
                <button class="mt-2 text-sm text-blue-600 font-semibold" onclick="toggleAnswer(this)">‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</button>
                <div class="hint-box"><p><b>‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:</b> ‡πÄ‡∏û‡∏¥‡πà‡∏° `removeItem(state, action) { ... }` ‡πÉ‡∏ô `reducers`. ‡πÉ‡∏ä‡πâ `.filter()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á array ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ item ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏° `state.totalQuantity--`</p></div>
            </div>
        </div>

        <!-- React Router -->
        <div class="lab-section">
            <h2 class="text-3xl font-bold mb-4">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 4: React Router</h2>
            <h3 class="text-xl font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</h3>
            <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏¥‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Dynamic Route (<code>/products/:productId</code>)</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</h3>
            <pre class="code-block">// src/pages/ProductListPage.jsx
import { Link } from 'react-router-dom';
const products = [{id: 'p1', name: 'Laptop'}, {id: 'p2', name: 'Mouse'}];

export function ProductListPage() {
  return (
    &lt;ul&gt;
      {products.map(p => (
        // BUG: Link ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏µ path ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        &lt;li key={p.id}&gt;&lt;Link to={\`/product/\${p.id}\`}&gt;{p.name}&lt;/Link&gt;&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}

// src/pages/ProductDetailPage.jsx
import { useParams } from 'react-router-dom';
export function ProductDetailPage() {
  const { productId } = useParams();
  return &lt;h1&gt;Details for Product {productId}&lt;/h1&gt;;
}

// src/App.jsx
import { Routes, Route } from 'react-router-dom';
// ... import components
function App() {
  return (
    &lt;Routes&gt;
      &lt;Route path="/products" element={&lt;ProductListPage /&gt;} /&gt;
      &lt;Route path="/products/:productId" element={&lt;ProductDetailPage /&gt;} /&gt;
    &lt;/Routes&gt;
  );
}</pre>
            <div class="challenge-box">
                <p class="font-bold">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô üéØ</p>
                <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ <code>ProductListPage</code> ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Product Detail ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ path ‡πÉ‡∏ô <code>&lt;Link&gt;</code> ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô <code>&lt;Route&gt;</code>. ‡∏à‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç <code>to</code> prop ‡πÉ‡∏ô <code>&lt;Link&gt;</code> ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                <button class="mt-2 text-sm text-blue-600 font-semibold" onclick="toggleAnswer(this)">‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</button>
                <div class="hint-box"><p><b>‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:</b> Path ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠ <code>/products/...</code> ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà <code>/product/...</code></p></div>
            </div>
        </div>
        
        <!-- Performance -->
        <div class="lab-section">
            <h2 class="text-3xl font-bold mb-4">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 5: Performance Optimization</h2>
            <h3 class="text-xl font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</h3>
            <p>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£ re-render ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏ô Component ‡∏•‡∏π‡∏Å ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ <code>React.memo</code> ‡πÅ‡∏•‡∏∞ <code>useCallback</code></p>
            <h3 class="text-xl font-semibold mt-4 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</h3>
            <pre class="code-block">import React, { useState, memo } from 'react';

// Component ‡∏•‡∏π‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö props ‡πÄ‡∏õ‡πá‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
function HeavyCalculationComponent({ onCalculate }) {
  console.log('HeavyCalculationComponent is rendering!');
  return &lt;button onClick={onCalculate}&gt;Perform Heavy Calculation&lt;/button&gt;;
}

// BUG: HeavyCalculationComponent ‡∏ñ‡∏π‡∏Å re-render ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà parent state ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
// ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤ props ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏•‡∏¢

function ParentComponent() {
  const [count, setCount] = useState(0);

  const performCalculation = () => {
    // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å
    console.log("Performing calculation...");
  };

  return (
    &lt;div&gt;
      &lt;h2&gt;Unrelated Counter: {count}&lt;/h2&gt;
      &lt;button onClick={() => setCount(c => c + 1)}&gt;Increment&lt;/button&gt;
      &lt;hr className="my-4" /&gt;
      &lt;HeavyCalculationComponent onCalculate={performCalculation} /&gt;
    &lt;/div&gt;
  );
}</pre>
            <div class="challenge-box">
                <p class="font-bold">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô üéØ</p>
                <p>‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "Increment", <code>HeavyCalculationComponent</code> ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å re-render ‡πÉ‡∏´‡∏°‡πà (‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏à‡∏≤‡∏Å console.log) ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô. ‡∏à‡∏á‡πÉ‡∏ä‡πâ <code>React.memo</code> ‡πÅ‡∏•‡∏∞ <code>useCallback</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ re-render ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏µ‡πâ</p>
                <button class="mt-2 text-sm text-blue-600 font-semibold" onclick="toggleAnswer(this)">‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</button>
                <div class="hint-box"><p><b>‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:</b> 1. ‡∏Ñ‡∏£‡∏≠‡∏ö <code>HeavyCalculationComponent</code> ‡∏î‡πâ‡∏ß‡∏¢ <code>memo()</code> ‡∏ï‡∏≠‡∏ô export. 2. ‡πÉ‡∏ô <code>ParentComponent</code>, ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô <code>performCalculation</code> ‡∏î‡πâ‡∏ß‡∏¢ <code>useCallback</code> ‡∏û‡∏£‡πâ‡∏≠‡∏° dependency array ‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ `[]`</p></div>
            </div>
        </div>

    </div>

    <script>
        // Make toggleAnswer globally accessible for inline onclick
        window.toggleAnswer = (button) => {
            const answerBox = button.nextElementSibling;
            if (answerBox.style.display === 'none' || answerBox.style.display === '') {
                answerBox.style.display = 'block';
            } else {
                answerBox.style.display = 'none';
            }
        };
    </script>
</body>
</html>
